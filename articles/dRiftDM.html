<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Introduction to dRiftDM • dRiftDM</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Introduction to dRiftDM">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">dRiftDM</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.3.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="active nav-item"><a class="nav-link" href="../articles/dRiftDM.html">Get started</a></li>
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="../articles/convert_dmc_parameters.html">How to Convert DMC's parameters</a></li>
    <li><a class="dropdown-item" href="../articles/customize_ddms.html">How To Customize DDMs</a></li>
    <li><a class="dropdown-item" href="../articles/predictions_simple_ddm.html">Core DDM Parameters: Impact on RTs and Accuracy</a></li>
  </ul>
</li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/bucky2177/dRiftDM/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Introduction to dRiftDM</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/bucky2177/dRiftDM/blob/main/vignettes/dRiftDM.Rmd" class="external-link"><code>vignettes/dRiftDM.Rmd</code></a></small>
      <div class="d-none name"><code>dRiftDM.Rmd</code></div>
    </div>

    
    
<p>When working with drift-diffusion models (DDMs) you probably want
to:</p>
<ul>
<li><p>Build a new model or select an existing model</p></li>
<li><p>Explore the model behavior and validate that model parameters are
estimated reliably</p></li>
<li><p>Fit the model to data</p></li>
<li><p>Explore the model fit</p></li>
</ul>
<p>The dRiftDM package helps you to do this:</p>
<ul>
<li><p>With dedicated functions and workflows</p></li>
<li><p>Options to customize models</p></li>
<li><p>With efficient algorithms to derive the model predictions for
time-dependent DDMs <span class="citation">(see Richter, Ulrich, and
Janczyk 2023)</span></p></li>
</ul>
<p>Three pre-built models are currently available:</p>
<ul>
<li><p>The Ratcliff Diffusion Model <span class="citation">(see
<code><a href="../reference/ratcliff_dm.html">ratcliff_dm()</a></code>, Ratcliff 1978)</span></p></li>
<li><p>The Diffusion Model for Conflict Tasks <span class="citation">(see <code><a href="../reference/dmc_dm.html">dmc_dm()</a></code>, Ulrich et al. 2015;
Janczyk, Mackenzie, and Koob 2024)</span></p></li>
<li><p>The Shrinking Spotlight Model <span class="citation">(see
<code><a href="../reference/ssp_dm.html">ssp_dm()</a></code>, White, Ratcliff, and Starns 2011)</span></p></li>
</ul>
<p>This document introduces you to dRiftDM, focusing on first steps in
exploring and fitting a DDM.</p>
<div class="section level3">
<h3 id="an-examplary-model">An Examplary Model<a class="anchor" aria-label="anchor" href="#an-examplary-model"></a>
</h3>
<p>To explore some of the basic functions of dRiftDM, we’ll use the
Diffusion Model for Conflict Tasks (DMC). It is a diffusion model
commonly employed in the context of cognitive psychology. To create the
model, we call the pre-built function <code>dmc_fun()</code> and assign
its output to a variable:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">ddm</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/dmc_dm.html">dmc_dm</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="basic-properties-of-a-model">Basic Properties of a Model<a class="anchor" aria-label="anchor" href="#basic-properties-of-a-model"></a>
</h3>
<p>When printing a model to the console, we obtain detailed information
about it:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">ddm</span><span class="op">)</span></span>
<span><span class="co">#&gt; Class(es) dmc_dm, drift_dm</span></span>
<span><span class="co">#&gt; (model has not been estimated yet)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Parameter Values:</span></span>
<span><span class="co">#&gt;        muc   b non_dec sd_non_dec  tau a    A alpha</span></span>
<span><span class="co">#&gt; comp     4 0.6     0.3       0.02 0.04 2  0.1     4</span></span>
<span><span class="co">#&gt; incomp   4 0.6     0.3       0.02 0.04 2 -0.1     4</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Parameter Settings:</span></span>
<span><span class="co">#&gt;        muc b non_dec sd_non_dec tau a A alpha</span></span>
<span><span class="co">#&gt; comp   1   2 3       4          5   0 6 7    </span></span>
<span><span class="co">#&gt; incomp 1   2 3       4          5   0 d 7    </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Special Dependencies:</span></span>
<span><span class="co">#&gt; A ~ incomp == -(A ~ comp)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Custom Parameters:</span></span>
<span><span class="co">#&gt;        peak_l</span></span>
<span><span class="co">#&gt; comp     0.04</span></span>
<span><span class="co">#&gt; incomp   0.04</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Deriving PDFS:</span></span>
<span><span class="co">#&gt;   solver: kfe</span></span>
<span><span class="co">#&gt;   values: sigma=1, t_max=3, dt=0.0075, dx=0.02, nt=400, nx=100</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Cost Function: neg_log_like</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Observed Data: NULL</span></span></code></pre></div>
<p>Here we get a glimpse on the underlying structure of any model
created with dRiftDM. For DMC this is:</p>
<ul>
<li><p>The model is of type <code>dmc_dm</code></p></li>
<li><p>The model has the parameters <code>muc</code>, <code>b</code>, …,
<code>alpha</code>, and the current parameter values for each conditions
are shown under <code>Parameter Values</code>. The conditions are
<code>comp</code> and <code>incomp</code> in this case.</p></li>
<li><p>Below this, under <code>Parameter Settings</code>, we obtain how
each parameter behaves across conditions. If a number is the same for a
parameter across conditions, this means that this parameter is equated
across conditions. For example, the parameter <code>muc</code> is
assumed to be identical for the conditions <code>comp</code> and
<code>incomp</code>. If a number is zero, this means that this parameter
is assumed to be “fixed” and thus is not a “free” parameter that can be
estimated. If an entry shows a “d”, this means there is a special
dependency, as listed under <code>Special Dependencies</code> (see
<code><a href="../articles/customize_ddms.html">vignette("customize_ddms", "dRiftDM")</a></code> for more
information).
<!--^[comp and incomp stand for compatible and incompatible, the two experimental conditions common to all conflict tasks. In a conflict task, participants perform a task while being presented with irrelevant, distracting information. For example, they have to respond to a single letter surrounded by irrelevant, flanking letters. In compatible vs. incompatible trials, the distracting information matches vs. mismatches with the task-relevant information, respectively.]--></p></li>
<li><p>When fitting or exploring a model, we will have to derive the
model predictions in terms of the first-passage-times (i.e., the
duration of central response selection in the context of psychology).
The settings for this are shown under <code>Deriving PDFs</code>.
Currently, predictions are derived by a numerical discretization of the
Kolmogorov-Forward-Equation (<code>kfe</code>). The diffusion constant
<code>sigma</code> is 1, the maximum time space is 3 seconds, and the
discretization in time and space is done in steps of .0075 and .02,
respectively.</p></li>
<li><p>Finally, under <code>Cost Function</code>, we can see the goal
function that is used to compare observed data (not yet part of the
model) and the model predictions. Per default, this cost function is the
<code>negative log-likelihood</code>.</p></li>
</ul>
</div>
<div class="section level2">
<h2 id="exploring-a-model">Exploring a Model<a class="anchor" aria-label="anchor" href="#exploring-a-model"></a>
</h2>
<p>To explore a model, dRiftDM provides:</p>
<ul>
<li><p><code><a href="../reference/simulate_traces.html">simulate_traces()</a></code> simulates realizations of the
diffusion process</p></li>
<li><p><code><a href="../reference/calc_stats.html">calc_stats()</a></code> calculates summary statistics of model
predictions</p></li>
</ul>
<div class="section level3">
<h3 id="simulate_traces">
<code>simulate_traces()</code><a class="anchor" aria-label="anchor" href="#simulate_traces"></a>
</h3>
<p>Realizations of a diffusion process, that is, single evidence
accumulation <em>traces</em> for central response selection, are common
ways to visualize a diffusion model. The first argument requires the
model object. The second argument requires the number of realizations to
simulate.</p>
<p>For example, we could simulate 5 traces for DMC per condition:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">five_traces</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/simulate_traces.html">simulate_traces</a></span><span class="op">(</span>object <span class="op">=</span> <span class="va">ddm</span>, k <span class="op">=</span> <span class="fl">5</span><span class="op">)</span></span>
<span><span class="va">five_traces</span></span>
<span><span class="co">#&gt; Class(es): traces_dm_list</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Time space:</span></span>
<span><span class="co">#&gt; 0.000, 0.007, 0.015, 0.022 ... 3.000 </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Condition: comp </span></span>
<span><span class="co">#&gt; ~&gt;  0.000, -0.040,  0.046, -0.113 ...  0.664 </span></span>
<span><span class="co">#&gt; ~&gt;  0.000,  0.008, -0.011,  0.129 ...  0.660 </span></span>
<span><span class="co">#&gt; ~&gt;  0.000,  0.036,  0.174,  0.255 ...  0.634 </span></span>
<span><span class="co">#&gt; ~&gt;  0.000,  0.020,  0.067,  0.184 ...  0.773 </span></span>
<span><span class="co">#&gt; ...</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Condition: incomp </span></span>
<span><span class="co">#&gt; ~&gt;  0.000, -0.073, -0.105, -0.070 ...  0.656 </span></span>
<span><span class="co">#&gt; ~&gt;  0.000,  0.048,  0.106,  0.087 ...  0.665 </span></span>
<span><span class="co">#&gt; ~&gt;  0.000, -0.013,  0.023, -0.046 ...  0.621 </span></span>
<span><span class="co">#&gt; ~&gt;  0.000,  0.015, -0.091, -0.080 ...  0.610 </span></span>
<span><span class="co">#&gt; ...</span></span></code></pre></div>
<p>Per default, traces are simulated by assuming a fixed starting value
of zero. To simulate traces with a variable starting point (if provided
by model), we can set the argument <code>add_x = TRUE</code>:</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">five_traces</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/simulate_traces.html">simulate_traces</a></span><span class="op">(</span>object <span class="op">=</span> <span class="va">ddm</span>, k <span class="op">=</span> <span class="fl">5</span>, add_x <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span><span class="va">five_traces</span></span>
<span><span class="co">#&gt; Class(es): traces_dm_list</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Time space:</span></span>
<span><span class="co">#&gt; 0.000, 0.007, 0.015, 0.022 ... 3.000 </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Condition: comp </span></span>
<span><span class="co">#&gt; ~&gt; -0.288, -0.141, -0.166, -0.188 ...  0.647 </span></span>
<span><span class="co">#&gt; ~&gt; -0.168,  0.024, -0.022,  0.026 ...  0.633 </span></span>
<span><span class="co">#&gt; ~&gt;  0.144,  0.018,  0.060,  0.150 ...  0.672 </span></span>
<span><span class="co">#&gt; ~&gt;  0.072,  0.279,  0.460,  0.487 ...  0.682 </span></span>
<span><span class="co">#&gt; ...</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Condition: incomp </span></span>
<span><span class="co">#&gt; ~&gt; -0.144, -0.178, -0.149, -0.097 ...  0.686 </span></span>
<span><span class="co">#&gt; ~&gt; -0.192, -0.067, -0.054, -0.059 ...  0.632 </span></span>
<span><span class="co">#&gt; ~&gt;  0.264,  0.023, -0.088,  0.014 ...  0.630 </span></span>
<span><span class="co">#&gt; ~&gt; -0.024, -0.078, -0.165, -0.167 ...  0.679 </span></span>
<span><span class="co">#&gt; ...</span></span></code></pre></div>
<p>In the context of DMC, starting values of the traces are drawn from a
symmetric beta distribution <span class="citation">(see Ulrich et al.
2015)</span>.</p>
<p>We can easily visualize these traces by calling the generic
<code><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot()</a></code> method:</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">five_traces</span>, col <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"green"</span>, <span class="st">"red"</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p><img src="dRiftDM_files/figure-html/plot-results-1.png" width="700"></p>
<p>If you would like diffusion processes with a higher temporal
resolution (e.g., for a nice publication-ready figure), simply increase
<code>dt</code> (see the next chapter below) and run
<code><a href="../reference/simulate_traces.html">simulate_traces()</a></code> once more.</p>
<p>When visualizing the basic model behavior, one sometimes wants to
display the expected time-course of the diffusion process. We can do so
by eliminating the stochastic noise with setting the argument
<code>sigma = 0</code>.</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">exp_behavior</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/simulate_traces.html">simulate_traces</a></span><span class="op">(</span>object <span class="op">=</span> <span class="va">ddm</span>, k <span class="op">=</span> <span class="fl">1</span>, sigma <span class="op">=</span> <span class="fl">0</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">exp_behavior</span>, col <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"green"</span>, <span class="st">"red"</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p><img src="dRiftDM_files/figure-html/plot-results-2-1.png" width="700"></p>
<p>Note: When deriving the diffusion processes, <code>dRiftDM</code>
simply uses the Euler-Maruyama method with a fixed time step size of
<code>dt</code>. When actually deriving model predictions via the
Kolmogorov-Forward-Equation, however, <code>dRiftDM</code> uses a
dynamic time-stepping scheme to ensure high numerical accuracy even with
relatively coarse settings for <code>dt</code>. Thus, if the model’s
drift rate varies strongly and <code>dt</code> is large, the expected
time course via <code><a href="../reference/simulate_traces.html">simulate_traces()</a></code> might not match the
predicted model behavior.</p>
</div>
<div class="section level3">
<h3 id="calc_stats">
<code>calc_stats()</code><a class="anchor" aria-label="anchor" href="#calc_stats"></a>
</h3>
<p>A DDM predicts response choices and response times, with the latter
being the sum of the first-passage-time (i.e., the duration of central
response selection) and the non-decision time. We can request summary
statistics of this prediction with <code><a href="../reference/calc_stats.html">calc_stats()</a></code>. The first
argument requires the model object. The second argument a character
vector, specifying the <code>type</code> of summary statistic.</p>
<p>In the context of cognitive psychology, quantiles and so-called
Conditional Accuracy Functions (CAFs) are common ways to summarize the
model predictions:</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">sum_stats</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/calc_stats.html">calc_stats</a></span><span class="op">(</span>object <span class="op">=</span> <span class="va">ddm</span>, type <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"cafs"</span>, <span class="st">"quantiles"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">sum_stats</span></span>
<span><span class="co">#&gt; Element 1, contains cafs</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;    Source   Cond Bin P_corr</span></span>
<span><span class="co">#&gt; 1    pred   comp   1  0.983</span></span>
<span><span class="co">#&gt; 2    pred   comp   2  0.983</span></span>
<span><span class="co">#&gt; 3    pred   comp   3  0.981</span></span>
<span><span class="co">#&gt; 4    pred   comp   4  0.984</span></span>
<span><span class="co">#&gt; 5    pred   comp   5  0.989</span></span>
<span><span class="co">#&gt; 6    pred incomp   1  0.835</span></span>
<span><span class="co">#&gt; 7    pred incomp   2  0.971</span></span>
<span><span class="co">#&gt; 8    pred incomp   3  0.986</span></span>
<span><span class="co">#&gt; 9    pred incomp   4  0.991</span></span>
<span><span class="co">#&gt; 10   pred incomp   5  0.992</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Element 2, contains quantiles</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;    Source   Cond Prob Quant_corr Quant_err</span></span>
<span><span class="co">#&gt; 1    pred   comp  0.1      0.325     0.321</span></span>
<span><span class="co">#&gt; 2    pred   comp  0.2      0.346     0.343</span></span>
<span><span class="co">#&gt; 3    pred   comp  0.3      0.364     0.362</span></span>
<span><span class="co">#&gt; 4    pred   comp  0.4      0.384     0.380</span></span>
<span><span class="co">#&gt; 5    pred   comp  0.5      0.406     0.398</span></span>
<span><span class="co">#&gt; 6    pred   comp  0.6      0.433     0.419</span></span>
<span><span class="co">#&gt; 7    pred   comp  0.7      0.465     0.443</span></span>
<span><span class="co">#&gt; 8    pred   comp  0.8      0.507     0.476</span></span>
<span><span class="co">#&gt; 9    pred   comp  0.9      0.574     0.531</span></span>
<span><span class="co">#&gt; 10   pred incomp  0.1      0.352     0.301</span></span>
<span><span class="co">#&gt; ...</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; (extract the list's elements as usual, e.g., with $cafs)</span></span></code></pre></div>
<p>We can visualize summary statistics with the <code><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot()</a></code>
method:</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">sum_stats</span><span class="op">)</span></span></code></pre></div>
<p><img src="dRiftDM_files/figure-html/plot-results-3-1.png" width="700"><img src="dRiftDM_files/figure-html/plot-results-3-2.png" width="700"></p>
<p>It is also possible to plot the predicted response time distributions
using <code>type = "densities"</code>.</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">sum_stats</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/calc_stats.html">calc_stats</a></span><span class="op">(</span>object <span class="op">=</span> <span class="va">ddm</span>, type <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"densities"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">sum_stats</span></span>
<span><span class="co">#&gt; Type of Statistic: densities</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;    Source Cond Stat  Time Dens_corr Dens_err</span></span>
<span><span class="co">#&gt; 1    pred comp  pdf 0.000         0        0</span></span>
<span><span class="co">#&gt; 2    pred comp  pdf 0.007         0        0</span></span>
<span><span class="co">#&gt; 3    pred comp  pdf 0.015         0        0</span></span>
<span><span class="co">#&gt; 4    pred comp  pdf 0.022         0        0</span></span>
<span><span class="co">#&gt; 5    pred comp  pdf 0.030         0        0</span></span>
<span><span class="co">#&gt; 6    pred comp  pdf 0.038         0        0</span></span>
<span><span class="co">#&gt; 7    pred comp  pdf 0.045         0        0</span></span>
<span><span class="co">#&gt; 8    pred comp  pdf 0.052         0        0</span></span>
<span><span class="co">#&gt; 9    pred comp  pdf 0.060         0        0</span></span>
<span><span class="co">#&gt; 10   pred comp  pdf 0.068         0        0</span></span>
<span><span class="co">#&gt; ...</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; (access the data.frame's columns/rows as usual)</span></span></code></pre></div>
<p>In this case, it’s often helpful to plot the distributions separately
for each condition, so they don’t overlap too much:</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">sum_stats</span>, conds <span class="op">=</span> <span class="st">"comp"</span>, xlim <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">1.0</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p><img src="dRiftDM_files/figure-html/plot-results-4-1.png" width="700"></p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">sum_stats</span>, conds <span class="op">=</span> <span class="st">"incomp"</span>, xlim <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">1.0</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p><img src="dRiftDM_files/figure-html/plot-results-4-2.png" width="700"></p>
</div>
</div>
<div class="section level2">
<h2 id="changing-model-properties">Changing Model Properties<a class="anchor" aria-label="anchor" href="#changing-model-properties"></a>
</h2>
<p>To get or set properties of the model, dRiftDM provides
accessor/replacement methods for:</p>
<ul>
<li><p><code><a href="https://rdrr.io/r/stats/coef.html" class="external-link">coef()</a></code> accesses/replaces parameter values</p></li>
<li><p><code><a href="../reference/prms_solve.html">prms_solve()</a></code> accesses/replaces settings for deriving
model predictions (this also includes changing the diffusion
constant)</p></li>
<li><p><code><a href="../reference/solver.html">solver()</a></code> accesses/replaces the method for deriving
model predictions (not really necessary anymore, the default
<code>kfe</code> is well enough!)</p></li>
<li><p><code><a href="../reference/b_coding.html">b_coding()</a></code> accesses/replaces the coding of the upper
and lower boundary</p></li>
<li><p><code><a href="../reference/obs_data.html">obs_data()</a></code> accesses/replaces the data set (of a
single participant) attached to the model</p></li>
<li><p><code><a href="../reference/flex_prms.html">flex_prms()</a></code> accesses/replaces the object that
controls how each parameter relates across conditions</p></li>
<li><p><code><a href="../reference/conds.html">conds()</a></code> accesses/replaces the conditions of a
model</p></li>
<li><p><code><a href="../reference/comp_funs.html">comp_funs()</a></code> accesses/replaces the underlying
component functions for the drift rate, boundary, etc.</p></li>
<li><p><code><a href="../reference/cost_function.html">cost_function()</a></code> accesses/replace the cost function
used for parameter optimization.</p></li>
</ul>
<p>Note: <code><a href="../reference/comp_funs.html">comp_funs()</a></code>, <code><a href="../reference/flex_prms.html">flex_prms()</a></code>, and
<code><a href="../reference/conds.html">conds()</a></code> are covered in
<code><a href="../articles/customize_ddms.html">vignette("customize_ddms", "dRiftDM")</a></code>.</p>
<div class="section level3">
<h3 id="coef">
<code>coef()</code><a class="anchor" aria-label="anchor" href="#coef"></a>
</h3>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/stats/coef.html" class="external-link">coef</a></span><span class="op">(</span><span class="va">ddm</span><span class="op">)</span></span>
<span><span class="co">#&gt;        muc          b    non_dec sd_non_dec        tau          A      alpha </span></span>
<span><span class="co">#&gt;       4.00       0.60       0.30       0.02       0.04       0.10       4.00</span></span></code></pre></div>
<p>This returns a unique representation of the parameters and their
associated values. Note that this drops parameters that are not
estimable.</p>
<p>We can combine <code><a href="https://rdrr.io/r/stats/coef.html" class="external-link">coef()</a></code> with the <code>[]</code> operator
to change the values of the parameters:</p>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/stats/coef.html" class="external-link">coef</a></span><span class="op">(</span><span class="va">ddm</span><span class="op">)</span><span class="op">[</span><span class="st">"muc"</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="fl">5</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/stats/coef.html" class="external-link">coef</a></span><span class="op">(</span><span class="va">ddm</span><span class="op">)</span></span>
<span><span class="co">#&gt;        muc          b    non_dec sd_non_dec        tau          A      alpha </span></span>
<span><span class="co">#&gt;       5.00       0.60       0.30       0.02       0.04       0.10       4.00</span></span></code></pre></div>
<p>To request the entire parameter matrix with all parameter values
across conditions, we can set the argument
<code>select_unique = FALSE</code>:</p>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/stats/coef.html" class="external-link">coef</a></span><span class="op">(</span><span class="va">ddm</span>, select_unique <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span>
<span><span class="co">#&gt;        muc   b non_dec sd_non_dec  tau a    A alpha peak_l</span></span>
<span><span class="co">#&gt; comp     5 0.6     0.3       0.02 0.04 2  0.1     4   0.04</span></span>
<span><span class="co">#&gt; incomp   5 0.6     0.3       0.02 0.04 2 -0.1     4   0.04</span></span></code></pre></div>
<p>In this case, we can not combine <code><a href="https://rdrr.io/r/stats/coef.html" class="external-link">coef()</a></code> with the
<code>[]</code> operator. To change a parameter value for a specific
condition, we can use the function <code><a href="../reference/modify_flex_prms.html">modify_flex_prms()</a></code>.</p>
</div>
<div class="section level3">
<h3 id="prms_solve">
<code>prms_solve()</code><a class="anchor" aria-label="anchor" href="#prms_solve"></a>
</h3>
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/prms_solve.html">prms_solve</a></span><span class="op">(</span><span class="va">ddm</span><span class="op">)</span></span>
<span><span class="co">#&gt;   sigma   t_max      dt      dx      nt      nx </span></span>
<span><span class="co">#&gt; 1.0e+00 3.0e+00 7.5e-03 2.0e-02 4.0e+02 1.0e+02</span></span></code></pre></div>
<p>This shows the diffusion constant and the discretization settings. We
can again use a combination with <code>[]</code> to modify these
values.</p>
<div class="sourceCode" id="cb16"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/prms_solve.html">prms_solve</a></span><span class="op">(</span><span class="va">ddm</span><span class="op">)</span><span class="op">[</span><span class="st">"dt"</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="fl">.005</span></span>
<span><span class="fu"><a href="../reference/prms_solve.html">prms_solve</a></span><span class="op">(</span><span class="va">ddm</span><span class="op">)</span></span>
<span><span class="co">#&gt; sigma t_max    dt    dx    nt    nx </span></span>
<span><span class="co">#&gt; 1e+00 3e+00 5e-03 2e-02 6e+02 1e+02</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="remark-discretization-settings">Remark: Discretization Settings<a class="anchor" aria-label="anchor" href="#remark-discretization-settings"></a>
</h3>
<p>Setting the discretization, in particluar for <code>dt</code> and
<code>dx</code>, is a tricky choice. If you create a new model (see the
<code><a href="../articles/customize_ddms.html">vignette("customize_ddms", "dRiftDM")</a></code>), dRiftDM discretizes
the time and evidence space in steps of <code>dx = dt = 0.001</code>.
This is a very conservative setting, ensuring high numerical accuracy
for many DDMs. Yet, this high numerical accuracy comes at the expense of
a high computational burden that increases non-linearly.</p>
<p>For the models that are pre-built (i.e., for <code><a href="../reference/dmc_dm.html">dmc_dm()</a></code>,
<code><a href="../reference/ssp_dm.html">ssp_dm()</a></code>, and <code><a href="../reference/ratcliff_dm.html">ratcliff_dm()</a></code>), we have
conducted extensive simulations to find a discretization that provides a
good balance between speed and accuracy. However, these settings will
not hold for all models that you might create with <code>dRiftDM</code>.
It is thus highly recommended for custom models to perform some
exploratory model simulations under different discretization and
parameter setttings. As a rule of thumb, we currently recommend
exploring <code>dt</code> values between 0.001 and 0.01, and
<code>dx</code> values between 0.001 and 0.02.</p>
<p>Another choice is the maximum time space. It should be large enough
to easily cover the longest response time in the observed data set.</p>
<p>A helpful function to check the impact of the discretization setting,
in particular for <code>dt</code> and <code>dx</code> is the
<code><a href="../reference/check_discretization.html">check_discretization()</a></code> function. This function takes a
model (with some values for <code>dt</code> and <code>dx</code>) and
compares the model predictions with these settings against model
predictions obtained under very fine discretization settings using the
Hellinger-Distance.</p>
<div class="sourceCode" id="cb17"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/check_discretization.html">check_discretization</a></span><span class="op">(</span><span class="va">ddm</span><span class="op">)</span></span>
<span><span class="co">#&gt;    comp  incomp </span></span>
<span><span class="co">#&gt; 0.01027 0.01431</span></span></code></pre></div>
<p>we can interpret the result as a percentage of deviance. If the model
predictions under fine and a more coarse settings are exactly the same,
the returned values will be zero. If they are completely different, they
will be one. From our own (yet preliminary) experience, we would
recommend keeping the Hellinger Distance clearly below 5 percent for
most of the relevant parameter settings.</p>
</div>
<div class="section level3">
<h3 id="solver">
<code>solver()</code><a class="anchor" aria-label="anchor" href="#solver"></a>
</h3>
<div class="sourceCode" id="cb18"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/solver.html">solver</a></span><span class="op">(</span><span class="va">ddm</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "kfe"</span></span></code></pre></div>
<p>This shows the currently set method for deriving the model’s
predicted probability density functions of response time and choice.
Currently supported options are <code>"kfe"</code> and
<code>"im_zero"</code>. While the <code>"kfe"</code> method can be
applied to all models in dRiftDM, <code>"im_zero"</code> can only be
used when the starting point is fixed to zero. Also,
<code>"im_zero"</code> currently doesn’t support adaptive time stepping,
and requires finer discretization. Thus, for now, <code>"im_zero"</code>
is only present for backward compatibility, and we recommend using the
<code>"kfe"</code> solver.</p>
</div>
<div class="section level3">
<h3 id="b_coding">
<code>b_coding()</code><a class="anchor" aria-label="anchor" href="#b_coding"></a>
</h3>
<div class="sourceCode" id="cb19"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/b_coding.html">b_coding</a></span><span class="op">(</span><span class="va">ddm</span><span class="op">)</span></span>
<span><span class="co">#&gt; $column</span></span>
<span><span class="co">#&gt; [1] "Error"</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $u_name_value</span></span>
<span><span class="co">#&gt; corr </span></span>
<span><span class="co">#&gt;    0 </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $l_name_value</span></span>
<span><span class="co">#&gt; err </span></span>
<span><span class="co">#&gt;   1</span></span></code></pre></div>
<p>This returns a list that specifies how the boundaries of a DDM are
coded. We can change the boundary coding by modifying the returned
list:</p>
<div class="sourceCode" id="cb20"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">copy</span> <span class="op">&lt;-</span> <span class="va">ddm</span> <span class="co"># to not change the original model object</span></span>
<span><span class="fu"><a href="../reference/b_coding.html">b_coding</a></span><span class="op">(</span><span class="va">copy</span><span class="op">)</span><span class="op">$</span><span class="va">column</span> <span class="op">&lt;-</span> <span class="st">"Response"</span></span>
<span><span class="fu"><a href="../reference/b_coding.html">b_coding</a></span><span class="op">(</span><span class="va">copy</span><span class="op">)</span><span class="op">$</span><span class="va">u_name_value</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"left"</span> <span class="op">=</span> <span class="op">-</span><span class="fl">1</span><span class="op">)</span></span>
<span><span class="fu"><a href="../reference/b_coding.html">b_coding</a></span><span class="op">(</span><span class="va">copy</span><span class="op">)</span><span class="op">$</span><span class="va">l_name_value</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"right"</span> <span class="op">=</span> <span class="fl">1</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="../reference/b_coding.html">b_coding</a></span><span class="op">(</span><span class="va">copy</span><span class="op">)</span></span>
<span><span class="co">#&gt; $column</span></span>
<span><span class="co">#&gt; [1] "Response"</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $u_name_value</span></span>
<span><span class="co">#&gt; left </span></span>
<span><span class="co">#&gt;   -1 </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $l_name_value</span></span>
<span><span class="co">#&gt; right </span></span>
<span><span class="co">#&gt;     1</span></span></code></pre></div>
<p>Changing the boundary coding makes sense if the response choices of
your observed data is not accuracy coded.</p>
<p>Note that this will also alter the column names of the summary
statistics:</p>
<div class="sourceCode" id="cb21"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/calc_stats.html">calc_stats</a></span><span class="op">(</span><span class="va">copy</span>, <span class="st">"quantiles"</span><span class="op">)</span></span>
<span><span class="co">#&gt; Type of Statistic: quantiles</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;    Source   Cond Prob Quant_left Quant_right</span></span>
<span><span class="co">#&gt; 1    pred   comp  0.1      0.321       0.310</span></span>
<span><span class="co">#&gt; 2    pred   comp  0.2      0.339       0.327</span></span>
<span><span class="co">#&gt; 3    pred   comp  0.3      0.355       0.342</span></span>
<span><span class="co">#&gt; 4    pred   comp  0.4      0.371       0.357</span></span>
<span><span class="co">#&gt; 5    pred   comp  0.5      0.388       0.373</span></span>
<span><span class="co">#&gt; 6    pred   comp  0.6      0.408       0.390</span></span>
<span><span class="co">#&gt; 7    pred   comp  0.7      0.433       0.409</span></span>
<span><span class="co">#&gt; 8    pred   comp  0.8      0.466       0.435</span></span>
<span><span class="co">#&gt; 9    pred   comp  0.9      0.517       0.476</span></span>
<span><span class="co">#&gt; 10   pred incomp  0.1      0.345       0.297</span></span>
<span><span class="co">#&gt; ...</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; (access the data.frame's columns/rows as usual)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="obs_data">
<code>obs_data()</code><a class="anchor" aria-label="anchor" href="#obs_data"></a>
</h3>
<p>We can set observed data of a single individual to a model (or access
it) with <code><a href="../reference/obs_data.html">obs_data()</a></code>. When setting observed data, we have to
make sure that the supplied <code>data.frame</code> provides columns
matching with the boundary coding and the conditions of the model.</p>
<div class="sourceCode" id="cb22"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">data</span> <span class="op">&lt;-</span> <span class="fu">dRiftDM</span><span class="fu">::</span><span class="va"><a href="../reference/dmc_synth_data.html">dmc_synth_data</a></span> <span class="co"># some synthetic data suitable for DMC that ships with dRiftDM</span></span>
<span><span class="co"># the Cond column matches with conds(ddm).</span></span>
<span><span class="co"># The Error column matches b_coding(ddm)</span></span>
<span><span class="co"># the RT column is in seconds ;)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">data</span><span class="op">)</span></span>
<span><span class="co">#&gt;      RT Error Cond</span></span>
<span><span class="co">#&gt; 1 0.349     0 comp</span></span>
<span><span class="co">#&gt; 2 0.444     0 comp</span></span>
<span><span class="co">#&gt; 3 0.441     0 comp</span></span>
<span><span class="co">#&gt; 4 0.572     0 comp</span></span>
<span><span class="co">#&gt; 5 0.438     0 comp</span></span>
<span><span class="co">#&gt; 6 0.535     0 comp</span></span>
<span></span>
<span><span class="fu"><a href="../reference/obs_data.html">obs_data</a></span><span class="op">(</span><span class="va">ddm</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="va">data</span></span></code></pre></div>
<p>Note that the supplied data set is not stored “as is” within the
model object. Thus, when accessing a data set of a model, the data is
re-assembled, and this might change the order of rows or column with
respect to the original data set. To remind you of that, a message is
thrown.</p>
<div class="sourceCode" id="cb23"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">extr_data</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/obs_data.html">obs_data</a></span><span class="op">(</span><span class="va">ddm</span><span class="op">)</span></span>
<span><span class="co">#&gt; Extracting observed data from a model object. Remember that the result may be sorted differently than expect!</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">extr_data</span><span class="op">)</span></span>
<span><span class="co">#&gt;      RT Error Cond</span></span>
<span><span class="co">#&gt; 1 0.349     0 comp</span></span>
<span><span class="co">#&gt; 2 0.444     0 comp</span></span>
<span><span class="co">#&gt; 3 0.441     0 comp</span></span>
<span><span class="co">#&gt; 4 0.572     0 comp</span></span>
<span><span class="co">#&gt; 5 0.438     0 comp</span></span>
<span><span class="co">#&gt; 6 0.535     0 comp</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="the-summary-function">The <code>summary()</code> Function<a class="anchor" aria-label="anchor" href="#the-summary-function"></a>
</h3>
<p>We can request a detailed summary of the model, providing information
about it’s core properties with the generic <code><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary()</a></code>
function:</p>
<div class="sourceCode" id="cb24"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">ddm</span><span class="op">)</span></span>
<span><span class="co">#&gt; Class(es) dmc_dm, drift_dm</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Parameter Values:</span></span>
<span><span class="co">#&gt;        muc   b non_dec sd_non_dec  tau a    A alpha</span></span>
<span><span class="co">#&gt; comp     5 0.6     0.3       0.02 0.04 2  0.1     4</span></span>
<span><span class="co">#&gt; incomp   5 0.6     0.3       0.02 0.04 2 -0.1     4</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Parameter Settings:</span></span>
<span><span class="co">#&gt;        muc b non_dec sd_non_dec tau a A alpha</span></span>
<span><span class="co">#&gt; comp   1   2 3       4          5   0 6 7    </span></span>
<span><span class="co">#&gt; incomp 1   2 3       4          5   0 d 7    </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Special Dependencies:</span></span>
<span><span class="co">#&gt; A ~ incomp == -(A ~ comp)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Custom Parameters:</span></span>
<span><span class="co">#&gt;        peak_l</span></span>
<span><span class="co">#&gt; comp     0.04</span></span>
<span><span class="co">#&gt; incomp   0.04</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Observed Data:</span></span>
<span><span class="co">#&gt;              min. 1st qu. median  mean 3rd qu.  max.   n</span></span>
<span><span class="co">#&gt; corr comp   0.331   0.436  0.479 0.507   0.549 1.075 292</span></span>
<span><span class="co">#&gt; corr incomp 0.313   0.474  0.528 0.543   0.592 0.879 268</span></span>
<span><span class="co">#&gt; err comp    0.428   0.458  0.526 0.564   0.621 0.871   8</span></span>
<span><span class="co">#&gt; err incomp  0.302   0.398  0.452 0.458   0.498 0.771  32</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Fit Indices:</span></span>
<span><span class="co">#&gt;     Log_Like Neg_Log_Like          AIC          BIC       RMSE_s      RMSE_ms </span></span>
<span><span class="co">#&gt;     -180.145      180.145      374.290      405.069        0.107      106.502 </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; -------</span></span>
<span><span class="co">#&gt; Deriving PDFS:</span></span>
<span><span class="co">#&gt;   solver: kfe</span></span>
<span><span class="co">#&gt;   values: sigma=1, t_max=3, dt=0.005, dx=0.02, nt=600, nx=100</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Boundary Coding:</span></span>
<span><span class="co">#&gt;   upper: corr </span></span>
<span><span class="co">#&gt;   lower: err </span></span>
<span><span class="co">#&gt;   expected data column: Error (corr = 0; err = 1)</span></span></code></pre></div>
</div>
</div>
<div class="section level2">
<h2 id="fitting-a-model">Fitting a Model<a class="anchor" aria-label="anchor" href="#fitting-a-model"></a>
</h2>
<p>To fit a model to observed data we can use
<code><a href="../reference/estimate_dm.html">estimate_dm()</a></code>. We can choose between:</p>
<ul>
<li><p>Fitting a model separately to multiple participants using
classical optimization (i.e., minimizing a cost function)</p></li>
<li><p>Fitting a model to aggregated data (i.e., first aggregate data
across individuals and then fit the model once by minimizing a cost
function based on summary statistics)</p></li>
<li><p>Fitting a model separately to multiple participants using
Bayesian estimation (i.e., explore the posterior distribution using
Markov-Chain Monte-Carlo; experimental)</p></li>
<li><p>Fitting a model hierarchically using Bayesian estimation
(experimental)</p></li>
</ul>
<div class="section level3">
<h3 id="fitting-a-model-separately-to-individual-data-using-classical-optimization-techniques">Fitting a Model Separately to Individual Data Using Classical
Optimization Techniques<a class="anchor" aria-label="anchor" href="#fitting-a-model-separately-to-individual-data-using-classical-optimization-techniques"></a>
</h3>
<p>Given a data set, the parameters of a model in dRiftDM are estimated
via Differential Evolution, (bounded) Nelder-Mead, or (bounded)
Broyden-Fletcher-Goldfarb-Shanno. The cost function is based either on
the log-likelihood or the Root-Mean-Squared-Error (RMSE) statistic.</p>
<p>The first argument <code>drift_dm_obj</code> requires the model. The
second argument <code>obs_data</code> requires some observed data with 4
columns:</p>
<ul>
<li>
<code>ID</code>: an identifier, coding the different
individuals</li>
<li>
<code>RT</code>: observed response times in seconds</li>
<li>
<code>Error</code>: observed errors/choices per trial (remember that
this column and its values must match with the boundary coding of your
model!)</li>
<li>
<code>Cond</code>: the conditions of each trial (within-participants
only; must match with the conditions of your model)</li>
</ul>
<p><code>drift_dm_obj</code> and <code>obs_data</code> are the only
mandatory arguments! However, as we will see in a second, specifying
some of the remaining arguments is often highly recommended. For
demonstration purpose, we will fit the first four individuals of the
Simon data set provided by <span class="citation">Ulrich et al.
(2015)</span>.</p>
<div class="sourceCode" id="cb25"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># get some data (here we use a Simon data set provided by Ulrich et al.)</span></span>
<span><span class="va">data</span> <span class="op">&lt;-</span> <span class="fu">dRiftDM</span><span class="fu">::</span><span class="va"><a href="../reference/ulrich_simon_data.html">ulrich_simon_data</a></span></span>
<span><span class="va">data</span> <span class="op">&lt;-</span> <span class="va">data</span><span class="op">[</span><span class="va">data</span><span class="op">$</span><span class="va">ID</span> <span class="op"><a href="https://rdrr.io/r/base/match.html" class="external-link">%in%</a></span> <span class="fl">1</span><span class="op">:</span><span class="fl">4</span>, <span class="op">]</span> <span class="co"># just the first four individuals</span></span>
<span></span>
<span><span class="co"># get a model (here we again use the pre-built DMC model)</span></span>
<span><span class="va">ddm</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/dmc_dm.html">dmc_dm</a></span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># the provided data is ready-to-use with DMC</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">data</span><span class="op">)</span></span>
<span><span class="co">#&gt;   ID        RT Error   Cond</span></span>
<span><span class="co">#&gt; 1  1 0.4514001     0 incomp</span></span>
<span><span class="co">#&gt; 2  1 0.5348854     0 incomp</span></span>
<span><span class="co">#&gt; 3  1 0.4680900     0 incomp</span></span>
<span><span class="co">#&gt; 4  1 0.4346847     0   comp</span></span>
<span><span class="co">#&gt; 5  1 0.3847005     0   comp</span></span>
<span><span class="co">#&gt; 6  1 0.4347649     0 incomp</span></span>
<span></span>
<span><span class="co"># now call the estimation routine</span></span>
<span><span class="va">all_fits</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/estimate_dm.html">estimate_dm</a></span><span class="op">(</span></span>
<span>  drift_dm_obj <span class="op">=</span> <span class="va">ddm</span>,</span>
<span>  obs_data <span class="op">=</span> <span class="va">data</span>,</span>
<span>  verbose <span class="op">=</span> <span class="fl">1</span> <span class="co"># prints more information about the underlying optimization run</span></span>
<span><span class="op">)</span></span>
<span><span class="co">#&gt; Using the data supplied via the 'obs_data' argument.</span></span>
<span><span class="co">#&gt; Using optimizer 'Nelder-Mead'.</span></span>
<span><span class="co">#&gt; Fitting the model separately to multiple participants (cost function:'neg_log_like'). The result will be a fit object of type 'fits_ids_dm'.</span></span>
<span><span class="co">#&gt; Starting optimizer 'Nelder-Mead' with the following starting values:</span></span>
<span><span class="co">#&gt; muc=4, b=0.6, non_dec=0.3, sd_non_dec=0.02, tau=0.04, A=0.1, alpha=4</span></span>
<span><span class="co">#&gt; Warning in estimate_classical(drift_dm_obj = one_model_start$drift_dm_obj, :</span></span>
<span><span class="co">#&gt; The optimization routine did not converge successfully (convergence message:</span></span>
<span><span class="co">#&gt; maxit reached). Treat the estimated parameters with some caution.</span></span>
<span><span class="co">#&gt; Optimization routine exited after 501 function evaluations</span></span>
<span><span class="co">#&gt; Final Parameters</span></span>
<span><span class="co">#&gt; muc = 4.277</span></span>
<span><span class="co">#&gt; b = 0.447</span></span>
<span><span class="co">#&gt; non_dec = 0.308</span></span>
<span><span class="co">#&gt; sd_non_dec = 0.022</span></span>
<span><span class="co">#&gt; tau = 0.02</span></span>
<span><span class="co">#&gt; A = 0.114</span></span>
<span><span class="co">#&gt; alpha = 5.289</span></span>
<span><span class="co">#&gt; ==&gt; gave a neg_log_like of -418.653</span></span>
<span><span class="co">#&gt; Starting optimizer 'Nelder-Mead' with the following starting values:</span></span>
<span><span class="co">#&gt; muc=4, b=0.6, non_dec=0.3, sd_non_dec=0.02, tau=0.04, A=0.1, alpha=4</span></span>
<span><span class="co">#&gt; Warning in estimate_classical(drift_dm_obj = one_model_start$drift_dm_obj, :</span></span>
<span><span class="co">#&gt; The optimization routine did not converge successfully (convergence message:</span></span>
<span><span class="co">#&gt; maxit reached). Treat the estimated parameters with some caution.</span></span>
<span><span class="co">#&gt; Optimization routine exited after 502 function evaluations</span></span>
<span><span class="co">#&gt; Final Parameters</span></span>
<span><span class="co">#&gt; muc = 4.116</span></span>
<span><span class="co">#&gt; b = 0.379</span></span>
<span><span class="co">#&gt; non_dec = 0.303</span></span>
<span><span class="co">#&gt; sd_non_dec = 0.032</span></span>
<span><span class="co">#&gt; tau = 0.06</span></span>
<span><span class="co">#&gt; A = 0.046</span></span>
<span><span class="co">#&gt; alpha = 5.623</span></span>
<span><span class="co">#&gt; ==&gt; gave a neg_log_like of -383.466</span></span>
<span><span class="co">#&gt; Starting optimizer 'Nelder-Mead' with the following starting values:</span></span>
<span><span class="co">#&gt; muc=4, b=0.6, non_dec=0.3, sd_non_dec=0.02, tau=0.04, A=0.1, alpha=4</span></span>
<span><span class="co">#&gt; Warning in estimate_classical(drift_dm_obj = one_model_start$drift_dm_obj, :</span></span>
<span><span class="co">#&gt; The optimization routine did not converge successfully (convergence message:</span></span>
<span><span class="co">#&gt; maxit reached). Treat the estimated parameters with some caution.</span></span>
<span><span class="co">#&gt; Optimization routine exited after 501 function evaluations</span></span>
<span><span class="co">#&gt; Final Parameters</span></span>
<span><span class="co">#&gt; muc = 5.427</span></span>
<span><span class="co">#&gt; b = 0.433</span></span>
<span><span class="co">#&gt; non_dec = 0.307</span></span>
<span><span class="co">#&gt; sd_non_dec = 0.019</span></span>
<span><span class="co">#&gt; tau = 0.059</span></span>
<span><span class="co">#&gt; A = 0.026</span></span>
<span><span class="co">#&gt; alpha = 4.426</span></span>
<span><span class="co">#&gt; ==&gt; gave a neg_log_like of -508.639</span></span>
<span><span class="co">#&gt; Starting optimizer 'Nelder-Mead' with the following starting values:</span></span>
<span><span class="co">#&gt; muc=4, b=0.6, non_dec=0.3, sd_non_dec=0.02, tau=0.04, A=0.1, alpha=4</span></span>
<span><span class="co">#&gt; Warning in estimate_classical(drift_dm_obj = one_model_start$drift_dm_obj, :</span></span>
<span><span class="co">#&gt; The optimization routine did not converge successfully (convergence message:</span></span>
<span><span class="co">#&gt; maxit reached). Treat the estimated parameters with some caution.</span></span>
<span><span class="co">#&gt; Optimization routine exited after 502 function evaluations</span></span>
<span><span class="co">#&gt; Final Parameters</span></span>
<span><span class="co">#&gt; muc = 2.863</span></span>
<span><span class="co">#&gt; b = 0.537</span></span>
<span><span class="co">#&gt; non_dec = 0.302</span></span>
<span><span class="co">#&gt; sd_non_dec = 0.034</span></span>
<span><span class="co">#&gt; tau = 0.051</span></span>
<span><span class="co">#&gt; A = 0.101</span></span>
<span><span class="co">#&gt; alpha = 2.761</span></span>
<span><span class="co">#&gt; ==&gt; gave a neg_log_like of -172.322</span></span>
<span><span class="co">#&gt; Warning in estimate_classical_wrapper(drift_dm_obj = drift_dm_obj, obs_data_ids = obs_data, : The optimization routine did not converge successfully for the following IDs: 1, 2, 3, 4</span></span>
<span><span class="co">#&gt; Summary of messages:</span></span>
<span><span class="co">#&gt; - maxit reached</span></span></code></pre></div>
<p>From the messages, it becomes clear that <code>dRiftDM</code> used
the “Nelder-Mead” optimization algorithm to minimize the negative
log-likelihood. The starting values were taken from the model:</p>
<div class="sourceCode" id="cb26"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/stats/coef.html" class="external-link">coef</a></span><span class="op">(</span><span class="va">ddm</span><span class="op">)</span></span>
<span><span class="co">#&gt;        muc          b    non_dec sd_non_dec        tau          A      alpha </span></span>
<span><span class="co">#&gt;       4.00       0.60       0.30       0.02       0.04       0.10       4.00</span></span></code></pre></div>
<p>However, while the code runs, it threw convergence warnings for each
individual. Thus, while searching for the “optimal” parameters, the
optimization algorithm could not find a clear minimum after
<code>502</code> function evaluations. To get rid of the convergence
warning, we could:</p>
<ol style="list-style-type: lower-alpha">
<li>Switch the optimization algorithm</li>
<li>Let the optimization algorithm search for a longer period.</li>
</ol>
<p>Let’s try the second option first. To configure the settings of an
optimization algorithm, we can use the <code>control</code> argument
(which is ultimately passed forward to <code><a href="https://rdrr.io/r/stats/optim.html" class="external-link">stats::optim()</a></code> in
this case; see the documentation of <code><a href="../reference/estimate_dm.html">estimate_dm()</a></code> for more
info).</p>
<div class="sourceCode" id="cb27"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">all_fits</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/estimate_dm.html">estimate_dm</a></span><span class="op">(</span></span>
<span>  drift_dm_obj <span class="op">=</span> <span class="va">ddm</span>,</span>
<span>  obs_data <span class="op">=</span> <span class="va">data</span>,</span>
<span>  control <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>maxit <span class="op">=</span> <span class="fl">2000</span><span class="op">)</span>, <span class="co"># 2000 iterations; see stats::optim</span></span>
<span>  verbose <span class="op">=</span> <span class="fl">1</span> <span class="co"># more information about the underlying optimization run</span></span>
<span><span class="op">)</span></span>
<span><span class="co">#&gt; Using the data supplied via the 'obs_data' argument.</span></span>
<span><span class="co">#&gt; Using optimizer 'Nelder-Mead'.</span></span>
<span><span class="co">#&gt; Fitting the model separately to multiple participants (cost function:'neg_log_like'). The result will be a fit object of type 'fits_ids_dm'.</span></span>
<span><span class="co">#&gt; Starting optimizer 'Nelder-Mead' with the following starting values:</span></span>
<span><span class="co">#&gt; muc=4, b=0.6, non_dec=0.3, sd_non_dec=0.02, tau=0.04, A=0.1, alpha=4</span></span>
<span><span class="co">#&gt; Optimization routine exited after 605 function evaluations</span></span>
<span><span class="co">#&gt; Final Parameters</span></span>
<span><span class="co">#&gt; muc = 4.274</span></span>
<span><span class="co">#&gt; b = 0.446</span></span>
<span><span class="co">#&gt; non_dec = 0.308</span></span>
<span><span class="co">#&gt; sd_non_dec = 0.022</span></span>
<span><span class="co">#&gt; tau = 0.02</span></span>
<span><span class="co">#&gt; A = 0.114</span></span>
<span><span class="co">#&gt; alpha = 5.294</span></span>
<span><span class="co">#&gt; ==&gt; gave a neg_log_like of -418.653</span></span>
<span><span class="co">#&gt; Starting optimizer 'Nelder-Mead' with the following starting values:</span></span>
<span><span class="co">#&gt; muc=4, b=0.6, non_dec=0.3, sd_non_dec=0.02, tau=0.04, A=0.1, alpha=4</span></span>
<span><span class="co">#&gt; Optimization routine exited after 1214 function evaluations</span></span>
<span><span class="co">#&gt; Final Parameters</span></span>
<span><span class="co">#&gt; muc = 4.105</span></span>
<span><span class="co">#&gt; b = 0.378</span></span>
<span><span class="co">#&gt; non_dec = 0.303</span></span>
<span><span class="co">#&gt; sd_non_dec = 0.032</span></span>
<span><span class="co">#&gt; tau = 0.02</span></span>
<span><span class="co">#&gt; A = 0.058</span></span>
<span><span class="co">#&gt; alpha = 5.893</span></span>
<span><span class="co">#&gt; ==&gt; gave a neg_log_like of -384.298</span></span>
<span><span class="co">#&gt; Starting optimizer 'Nelder-Mead' with the following starting values:</span></span>
<span><span class="co">#&gt; muc=4, b=0.6, non_dec=0.3, sd_non_dec=0.02, tau=0.04, A=0.1, alpha=4</span></span>
<span><span class="co">#&gt; Optimization routine exited after 699 function evaluations</span></span>
<span><span class="co">#&gt; Final Parameters</span></span>
<span><span class="co">#&gt; muc = 5.425</span></span>
<span><span class="co">#&gt; b = 0.433</span></span>
<span><span class="co">#&gt; non_dec = 0.307</span></span>
<span><span class="co">#&gt; sd_non_dec = 0.019</span></span>
<span><span class="co">#&gt; tau = 0.059</span></span>
<span><span class="co">#&gt; A = 0.025</span></span>
<span><span class="co">#&gt; alpha = 4.446</span></span>
<span><span class="co">#&gt; ==&gt; gave a neg_log_like of -508.641</span></span>
<span><span class="co">#&gt; Starting optimizer 'Nelder-Mead' with the following starting values:</span></span>
<span><span class="co">#&gt; muc=4, b=0.6, non_dec=0.3, sd_non_dec=0.02, tau=0.04, A=0.1, alpha=4</span></span>
<span><span class="co">#&gt; Optimization routine exited after 598 function evaluations</span></span>
<span><span class="co">#&gt; Final Parameters</span></span>
<span><span class="co">#&gt; muc = 2.863</span></span>
<span><span class="co">#&gt; b = 0.537</span></span>
<span><span class="co">#&gt; non_dec = 0.302</span></span>
<span><span class="co">#&gt; sd_non_dec = 0.034</span></span>
<span><span class="co">#&gt; tau = 0.051</span></span>
<span><span class="co">#&gt; A = 0.101</span></span>
<span><span class="co">#&gt; alpha = 2.761</span></span>
<span><span class="co">#&gt; ==&gt; gave a neg_log_like of -172.322</span></span></code></pre></div>
<p>Now the algorithm converges after about 600 to 1000 function
evaluations.</p>
<p>What about the other option of switching the algorithm? Instead of
using “Nelder-Mead”, we could use “nmkb”. The “nmkb” optimization
algorithm is essentially “Nelder-Mead”, but it uses constraints on the
parameters to search a more clearly defined space (which sometimes
helps, but not always). We can request “nmkb” by using the arguments
<code>optimizer</code> and <code>lower/upper</code>.</p>
<p>For <code>lower/upper</code>, we have to define ranges for each
parameter that is considered free in at least one condition;
essentially, this means we have to define a range for each of the
following parameters:</p>
<div class="sourceCode" id="cb28"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/stats/coef.html" class="external-link">coef</a></span><span class="op">(</span><span class="va">ddm</span><span class="op">)</span></span>
<span><span class="co">#&gt;        muc          b    non_dec sd_non_dec        tau          A      alpha </span></span>
<span><span class="co">#&gt;       4.00       0.60       0.30       0.02       0.04       0.10       4.00</span></span></code></pre></div>
<p>Fortunately, since <code>dRiftDM</code> v0.3.0 the function
<code><a href="../reference/get_lower_upper.html">get_lower_upper()</a></code> makes it easier to select these ranges—at
least for the pre-built models and model components:</p>
<div class="sourceCode" id="cb29"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">l_u</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/get_lower_upper.html">get_lower_upper</a></span><span class="op">(</span><span class="va">ddm</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">l_u</span><span class="op">)</span></span>
<span><span class="co">#&gt; $lower</span></span>
<span><span class="co">#&gt;        muc          b    non_dec sd_non_dec        tau          A      alpha </span></span>
<span><span class="co">#&gt;     0.5000     0.1500     0.1500     0.0075     0.0150     0.0050     2.0000 </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $upper</span></span>
<span><span class="co">#&gt;        muc          b    non_dec sd_non_dec        tau          A      alpha </span></span>
<span><span class="co">#&gt;       9.00       1.20       0.60       0.10       0.25       0.30       8.00</span></span>
<span></span>
<span><span class="va">all_fits_nmkb</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/estimate_dm.html">estimate_dm</a></span><span class="op">(</span></span>
<span>  drift_dm_obj <span class="op">=</span> <span class="va">ddm</span>,</span>
<span>  obs_data <span class="op">=</span> <span class="va">data</span>,</span>
<span>  optimizer <span class="op">=</span> <span class="st">"nmkb"</span>,</span>
<span>  lower <span class="op">=</span> <span class="va">l_u</span><span class="op">$</span><span class="va">lower</span>,</span>
<span>  upper <span class="op">=</span> <span class="va">l_u</span><span class="op">$</span><span class="va">upper</span>,</span>
<span>  verbose <span class="op">=</span> <span class="fl">1</span> <span class="co"># more information about the underlying optimization run</span></span>
<span><span class="op">)</span></span>
<span><span class="co">#&gt; Using the data supplied via the 'obs_data' argument.</span></span>
<span><span class="co">#&gt; Using optimizer 'nmkb'.</span></span>
<span><span class="co">#&gt; Fitting the model separately to multiple participants (cost function:'neg_log_like'). The result will be a fit object of type 'fits_ids_dm'.</span></span>
<span><span class="co">#&gt; Starting optimizer 'nmkb' with the following starting values:</span></span>
<span><span class="co">#&gt; muc=4, b=0.6, non_dec=0.3, sd_non_dec=0.02, tau=0.04, A=0.1, alpha=4</span></span>
<span><span class="co">#&gt; Warning in estimate_classical(drift_dm_obj = one_model_start$drift_dm_obj, :</span></span>
<span><span class="co">#&gt; The optimization routine did not converge successfully (convergence message:</span></span>
<span><span class="co">#&gt; Maximum number of fevals exceeded). Treat the estimated parameters with some</span></span>
<span><span class="co">#&gt; caution.</span></span>
<span><span class="co">#&gt; Optimization routine exited after 1500 function evaluations</span></span>
<span><span class="co">#&gt; Final Parameters</span></span>
<span><span class="co">#&gt; muc = 4.317</span></span>
<span><span class="co">#&gt; b = 0.426</span></span>
<span><span class="co">#&gt; non_dec = 0.314</span></span>
<span><span class="co">#&gt; sd_non_dec = 0.027</span></span>
<span><span class="co">#&gt; tau = 0.02</span></span>
<span><span class="co">#&gt; A = 0.092</span></span>
<span><span class="co">#&gt; alpha = 4.929</span></span>
<span><span class="co">#&gt; ==&gt; gave a neg_log_like of -420.083</span></span>
<span><span class="co">#&gt; Starting optimizer 'nmkb' with the following starting values:</span></span>
<span><span class="co">#&gt; muc=4, b=0.6, non_dec=0.3, sd_non_dec=0.02, tau=0.04, A=0.1, alpha=4</span></span>
<span><span class="co">#&gt; Optimization routine exited after 870 function evaluations</span></span>
<span><span class="co">#&gt; Final Parameters</span></span>
<span><span class="co">#&gt; muc = 4.265</span></span>
<span><span class="co">#&gt; b = 0.385</span></span>
<span><span class="co">#&gt; non_dec = 0.305</span></span>
<span><span class="co">#&gt; sd_non_dec = 0.032</span></span>
<span><span class="co">#&gt; tau = 0.024</span></span>
<span><span class="co">#&gt; A = 0.049</span></span>
<span><span class="co">#&gt; alpha = 4.117</span></span>
<span><span class="co">#&gt; ==&gt; gave a neg_log_like of -384.243</span></span>
<span><span class="co">#&gt; Starting optimizer 'nmkb' with the following starting values:</span></span>
<span><span class="co">#&gt; muc=4, b=0.6, non_dec=0.3, sd_non_dec=0.02, tau=0.04, A=0.1, alpha=4</span></span>
<span><span class="co">#&gt; Optimization routine exited after 1374 function evaluations</span></span>
<span><span class="co">#&gt; Final Parameters</span></span>
<span><span class="co">#&gt; muc = 5.24</span></span>
<span><span class="co">#&gt; b = 0.445</span></span>
<span><span class="co">#&gt; non_dec = 0.302</span></span>
<span><span class="co">#&gt; sd_non_dec = 0.018</span></span>
<span><span class="co">#&gt; tau = 0.015</span></span>
<span><span class="co">#&gt; A = 0.068</span></span>
<span><span class="co">#&gt; alpha = 8</span></span>
<span><span class="co">#&gt; ==&gt; gave a neg_log_like of -512.014</span></span>
<span><span class="co">#&gt; Starting optimizer 'nmkb' with the following starting values:</span></span>
<span><span class="co">#&gt; muc=4, b=0.6, non_dec=0.3, sd_non_dec=0.02, tau=0.04, A=0.1, alpha=4</span></span>
<span><span class="co">#&gt; Optimization routine exited after 915 function evaluations</span></span>
<span><span class="co">#&gt; Final Parameters</span></span>
<span><span class="co">#&gt; muc = 2.868</span></span>
<span><span class="co">#&gt; b = 0.525</span></span>
<span><span class="co">#&gt; non_dec = 0.305</span></span>
<span><span class="co">#&gt; sd_non_dec = 0.037</span></span>
<span><span class="co">#&gt; tau = 0.044</span></span>
<span><span class="co">#&gt; A = 0.115</span></span>
<span><span class="co">#&gt; alpha = 3.15</span></span>
<span><span class="co">#&gt; ==&gt; gave a neg_log_like of -171.917</span></span>
<span><span class="co">#&gt; Warning in estimate_classical_wrapper(drift_dm_obj = drift_dm_obj, obs_data_ids = obs_data, : The optimization routine did not converge successfully for the following IDs: 1</span></span>
<span><span class="co">#&gt; Summary of messages:</span></span>
<span><span class="co">#&gt; - Maximum number of fevals exceeded</span></span>
<span><span class="co">#&gt; - Successful convergence</span></span></code></pre></div>
<p>In this case, we only saw a convergence warning for one participant.
By increasing the number of iterations, this warning again
disappears:</p>
<div class="sourceCode" id="cb30"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">all_fits_nmkb</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/estimate_dm.html">estimate_dm</a></span><span class="op">(</span></span>
<span>  drift_dm_obj <span class="op">=</span> <span class="va">ddm</span>,</span>
<span>  obs_data <span class="op">=</span> <span class="va">data</span>,</span>
<span>  optimizer <span class="op">=</span> <span class="st">"nmkb"</span>,</span>
<span>  lower <span class="op">=</span> <span class="va">l_u</span><span class="op">$</span><span class="va">lower</span>,</span>
<span>  upper <span class="op">=</span> <span class="va">l_u</span><span class="op">$</span><span class="va">upper</span>,</span>
<span>  control <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>maxfeval <span class="op">=</span> <span class="fl">2000</span><span class="op">)</span>, <span class="co"># see dfoptim::nmkb</span></span>
<span>  verbose <span class="op">=</span> <span class="fl">1</span> <span class="co"># more information about the underlying optimization run</span></span>
<span><span class="op">)</span></span>
<span><span class="co">#&gt; Using the data supplied via the 'obs_data' argument.</span></span>
<span><span class="co">#&gt; Using optimizer 'nmkb'.</span></span>
<span><span class="co">#&gt; Fitting the model separately to multiple participants (cost function:'neg_log_like'). The result will be a fit object of type 'fits_ids_dm'.</span></span>
<span><span class="co">#&gt; Starting optimizer 'nmkb' with the following starting values:</span></span>
<span><span class="co">#&gt; muc=4, b=0.6, non_dec=0.3, sd_non_dec=0.02, tau=0.04, A=0.1, alpha=4</span></span>
<span><span class="co">#&gt; Optimization routine exited after 1714 function evaluations</span></span>
<span><span class="co">#&gt; Final Parameters</span></span>
<span><span class="co">#&gt; muc = 4.317</span></span>
<span><span class="co">#&gt; b = 0.426</span></span>
<span><span class="co">#&gt; non_dec = 0.314</span></span>
<span><span class="co">#&gt; sd_non_dec = 0.027</span></span>
<span><span class="co">#&gt; tau = 0.02</span></span>
<span><span class="co">#&gt; A = 0.092</span></span>
<span><span class="co">#&gt; alpha = 4.929</span></span>
<span><span class="co">#&gt; ==&gt; gave a neg_log_like of -420.083</span></span>
<span><span class="co">#&gt; Starting optimizer 'nmkb' with the following starting values:</span></span>
<span><span class="co">#&gt; muc=4, b=0.6, non_dec=0.3, sd_non_dec=0.02, tau=0.04, A=0.1, alpha=4</span></span>
<span><span class="co">#&gt; Optimization routine exited after 870 function evaluations</span></span>
<span><span class="co">#&gt; Final Parameters</span></span>
<span><span class="co">#&gt; muc = 4.265</span></span>
<span><span class="co">#&gt; b = 0.385</span></span>
<span><span class="co">#&gt; non_dec = 0.305</span></span>
<span><span class="co">#&gt; sd_non_dec = 0.032</span></span>
<span><span class="co">#&gt; tau = 0.024</span></span>
<span><span class="co">#&gt; A = 0.049</span></span>
<span><span class="co">#&gt; alpha = 4.117</span></span>
<span><span class="co">#&gt; ==&gt; gave a neg_log_like of -384.243</span></span>
<span><span class="co">#&gt; Starting optimizer 'nmkb' with the following starting values:</span></span>
<span><span class="co">#&gt; muc=4, b=0.6, non_dec=0.3, sd_non_dec=0.02, tau=0.04, A=0.1, alpha=4</span></span>
<span><span class="co">#&gt; Optimization routine exited after 1374 function evaluations</span></span>
<span><span class="co">#&gt; Final Parameters</span></span>
<span><span class="co">#&gt; muc = 5.24</span></span>
<span><span class="co">#&gt; b = 0.445</span></span>
<span><span class="co">#&gt; non_dec = 0.302</span></span>
<span><span class="co">#&gt; sd_non_dec = 0.018</span></span>
<span><span class="co">#&gt; tau = 0.015</span></span>
<span><span class="co">#&gt; A = 0.068</span></span>
<span><span class="co">#&gt; alpha = 8</span></span>
<span><span class="co">#&gt; ==&gt; gave a neg_log_like of -512.014</span></span>
<span><span class="co">#&gt; Starting optimizer 'nmkb' with the following starting values:</span></span>
<span><span class="co">#&gt; muc=4, b=0.6, non_dec=0.3, sd_non_dec=0.02, tau=0.04, A=0.1, alpha=4</span></span>
<span><span class="co">#&gt; Optimization routine exited after 915 function evaluations</span></span>
<span><span class="co">#&gt; Final Parameters</span></span>
<span><span class="co">#&gt; muc = 2.868</span></span>
<span><span class="co">#&gt; b = 0.525</span></span>
<span><span class="co">#&gt; non_dec = 0.305</span></span>
<span><span class="co">#&gt; sd_non_dec = 0.037</span></span>
<span><span class="co">#&gt; tau = 0.044</span></span>
<span><span class="co">#&gt; A = 0.115</span></span>
<span><span class="co">#&gt; alpha = 3.15</span></span>
<span><span class="co">#&gt; ==&gt; gave a neg_log_like of -171.917</span></span></code></pre></div>
<p>When you provide <code>lower/upper</code>, the default is actually
not “nmkb”, but “DEoptim”. The ‘DE’ stands for Differential Evolution—a
slower but very robust optimization algorithm. If runtime is not
critical, we recommend using “DEoptim”, since it performs reliably even
when the cost function is complex (which is almost always the case with
DDMs).</p>
<div class="sourceCode" id="cb31"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">all_fits_deoptim</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/estimate_dm.html">estimate_dm</a></span><span class="op">(</span></span>
<span>  drift_dm_obj <span class="op">=</span> <span class="va">ddm</span>,</span>
<span>  obs_data <span class="op">=</span> <span class="va">data</span>,</span>
<span>  lower <span class="op">=</span> <span class="va">l_u</span><span class="op">$</span><span class="va">lower</span>,</span>
<span>  upper <span class="op">=</span> <span class="va">l_u</span><span class="op">$</span><span class="va">upper</span>,</span>
<span>  n_cores <span class="op">=</span> <span class="fl">1</span> <span class="co"># you might want to increase this </span></span>
<span><span class="op">)</span></span>
<span><span class="co">#&gt; Using the data supplied via the 'obs_data' argument.</span></span>
<span><span class="co">#&gt; Using optimizer 'DEoptim'.</span></span>
<span><span class="co">#&gt; Fitting the model separately to multiple participants (cost function:'neg_log_like'). The result will be a fit object of type 'fits_ids_dm'.</span></span></code></pre></div>
<p>Because DEoptim is time-consuming, it is recommended to use multiple
cores. You can set the desired number of cores using the
<code>n_cores</code> argument.<a class="footnote-ref" tabindex="0" data-bs-toggle="popover" data-bs-content="&lt;p&gt;The reason we do not use multiple cores here is related
to how this vignette is built on GitHub, but regular users should
increase this value.&lt;/p&gt;"><sup>1</sup></a> To get the number of available cores, use
<code><a href="https://rdrr.io/r/parallel/detectCores.html" class="external-link">parallel::detectCores()</a></code>.</p>
<p>A common question concerns the number of cores to use. By default,
<code>dRiftDM</code> (v.0.3.0) parallelizes across individuals—that is,
one individual is fitted per core. Therefore, you should not specify
more cores than there are individuals. In the present toy example, this
limits the number of cores to four.</p>
<p>Additionally, the fitting process runs in batches. For instance, if
there are two cores and four individuals, <code>dRiftDM</code> first
fits the first two individuals and then the remaining two. In practice,
it is thus often convenient to choose a number of cores that divides the
number of individuals evenly (e.g., six cores for 18 individuals, 50
cores for 200 individuals).</p>
<p>It is also possible to parallelize <strong>within</strong>
individuals when using <code>DEoptim</code> (this is not the default).
In this case, fitting a single individual uses multiple cores. This
option can be useful when fitting only a few participants or when model
evaluation is relatively slow (i.e., when <code>dt</code> and
<code>dx</code> are small). Otherwise, the overhead of managing multiple
cores outweighs the computational burden per core. We can choose among
parallelization within and across individuals using the argument
<code>parallelization_strategy</code>.</p>
</div>
<div class="section level3">
<h3 id="remark-fitting-just-one-individual">Remark: Fitting Just One Individual<a class="anchor" aria-label="anchor" href="#remark-fitting-just-one-individual"></a>
</h3>
<p>In all previous examples, the function <code><a href="../reference/estimate_dm.html">estimate_dm()</a></code>
returned an object of class <code>fits_ids_dm</code>, which contains all
the individual fits.</p>
<div class="sourceCode" id="cb32"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Example</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/class.html" class="external-link">class</a></span><span class="op">(</span><span class="va">all_fits_deoptim</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "fits_ids_dm"</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">all_fits_deoptim</span><span class="op">)</span></span>
<span><span class="co">#&gt; Fit approach: separately - classical</span></span>
<span><span class="co">#&gt; Fitted model type: dmc_dm, drift_dm</span></span>
<span><span class="co">#&gt; Optimizer: DEoptim </span></span>
<span><span class="co">#&gt; Convergence: TRUE </span></span>
<span><span class="co">#&gt; N Individuals: 4 </span></span>
<span><span class="co">#&gt; Average Trial Numbers:</span></span>
<span><span class="co">#&gt;  167 trials comp; 168 trials incomp</span></span>
<span><span class="co">#&gt; Cost Function: neg_log_like</span></span></code></pre></div>
<p>A special case occurs when fitting only a single individual. In this
case, <code>dRiftDM</code> returns the model object itself, including
the data and the updated parameters for that individual. This behavior
is maintained for backward compatibility. Nothing special to worry
about—just be aware of it.</p>
<div class="sourceCode" id="cb33"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">ddm_est</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/estimate_dm.html">estimate_dm</a></span><span class="op">(</span></span>
<span>  drift_dm_obj <span class="op">=</span> <span class="va">ddm</span>,</span>
<span>  obs_data <span class="op">=</span> <span class="va">data</span><span class="op">[</span><span class="va">data</span><span class="op">$</span><span class="va">ID</span> <span class="op">==</span> <span class="fl">1</span>, <span class="op">]</span>,</span>
<span>  optimizer <span class="op">=</span> <span class="st">"Nelder-Mead"</span>,</span>
<span>  control <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>maxit <span class="op">=</span> <span class="fl">2000</span><span class="op">)</span>,</span>
<span>  messaging <span class="op">=</span> <span class="cn">FALSE</span>, verbose <span class="op">=</span> <span class="fl">0</span> <span class="co"># just to reduce the amount of information shown</span></span>
<span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/class.html" class="external-link">class</a></span><span class="op">(</span><span class="va">ddm_est</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "dmc_dm"   "drift_dm"</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">ddm_est</span><span class="op">)</span></span>
<span><span class="co">#&gt; Class(es) dmc_dm, drift_dm</span></span>
<span><span class="co">#&gt; Optimizer: Nelder-Mead</span></span>
<span><span class="co">#&gt; Convergence: TRUE</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Parameter Values:</span></span>
<span><span class="co">#&gt;          muc     b non_dec sd_non_dec  tau a      A alpha</span></span>
<span><span class="co">#&gt; comp   4.274 0.446   0.308      0.022 0.02 2  0.114 5.294</span></span>
<span><span class="co">#&gt; incomp 4.274 0.446   0.308      0.022 0.02 2 -0.114 5.294</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Parameter Settings:</span></span>
<span><span class="co">#&gt;        muc b non_dec sd_non_dec tau a A alpha</span></span>
<span><span class="co">#&gt; comp   1   2 3       4          5   0 6 7    </span></span>
<span><span class="co">#&gt; incomp 1   2 3       4          5   0 d 7    </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Special Dependencies:</span></span>
<span><span class="co">#&gt; A ~ incomp == -(A ~ comp)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Custom Parameters:</span></span>
<span><span class="co">#&gt;        peak_l</span></span>
<span><span class="co">#&gt; comp     0.02</span></span>
<span><span class="co">#&gt; incomp   0.02</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Deriving PDFS:</span></span>
<span><span class="co">#&gt;   solver: kfe</span></span>
<span><span class="co">#&gt;   values: sigma=1, t_max=3, dt=0.0075, dx=0.02, nt=400, nx=100</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Cost Function: neg_log_like</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Observed Data: 168 trials comp; 168 trials incomp</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="fitting-a-model-to-aggregated-data-using-classical-optimization-techniques">Fitting a Model to Aggregated Data Using Classical Optimization
Techniques<a class="anchor" aria-label="anchor" href="#fitting-a-model-to-aggregated-data-using-classical-optimization-techniques"></a>
</h3>
<p>In the previous examples, we fitted the model separately to each
individual’s data using maximum likelihood estimation. Another way to
fit a model is by means of a summary statistic. Conceptually, this
approach is very similar, but instead of using the negative
log-likelihood as a cost function, we use a summary statistic that
contrasts predicted and observed descriptive measures (such as quantiles
or accuracy). This was the original way DMC was fitted to observed data
<span class="citation">(Ulrich et al. 2015)</span>. To this end, we
simply switch the cost function to <code>"rmse"</code>, which stands for
<em>Root-Mean-Squared-E rror</em>.</p>
<div class="sourceCode" id="cb34"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/cost_function.html">cost_function</a></span><span class="op">(</span><span class="va">ddm</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="st">"rmse"</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">ddm</span><span class="op">)</span> <span class="co"># see the end of the following output</span></span>
<span><span class="co">#&gt; Class(es) dmc_dm, drift_dm</span></span>
<span><span class="co">#&gt; (model has not been estimated yet)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Parameter Values:</span></span>
<span><span class="co">#&gt;        muc   b non_dec sd_non_dec  tau a    A alpha</span></span>
<span><span class="co">#&gt; comp     4 0.6     0.3       0.02 0.04 2  0.1     4</span></span>
<span><span class="co">#&gt; incomp   4 0.6     0.3       0.02 0.04 2 -0.1     4</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Parameter Settings:</span></span>
<span><span class="co">#&gt;        muc b non_dec sd_non_dec tau a A alpha</span></span>
<span><span class="co">#&gt; comp   1   2 3       4          5   0 6 7    </span></span>
<span><span class="co">#&gt; incomp 1   2 3       4          5   0 d 7    </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Special Dependencies:</span></span>
<span><span class="co">#&gt; A ~ incomp == -(A ~ comp)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Custom Parameters:</span></span>
<span><span class="co">#&gt;        peak_l</span></span>
<span><span class="co">#&gt; comp     0.04</span></span>
<span><span class="co">#&gt; incomp   0.04</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Deriving PDFS:</span></span>
<span><span class="co">#&gt;   solver: kfe</span></span>
<span><span class="co">#&gt;   values: sigma=1, t_max=3, dt=0.0075, dx=0.02, nt=400, nx=100</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Cost Function: rmse</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Observed Data: NULL</span></span></code></pre></div>
<p>In principle, the RMSE statistic does not offer a particular
advantage over the negative log-likelihood. However, because the RMSE
depends on descriptive statistics, we can use it to fit the model to
aggregated data. That is, we first compute individual descriptive
statistics (quantiles and accuracy) for each participant, then collapse
these statistics across individuals, and finally fit the model once to
the aggregated data, yielding a single set of parameters. Requesting
this approach in <code>dRiftDM</code> is straightforward: we simply
specify the argument <code>approach = "agg_c"</code>.<a class="footnote-ref" tabindex="0" data-bs-toggle="popover" data-bs-content='&lt;p&gt;Here, &lt;code&gt;"agg_c"&lt;/code&gt; stands for “aggregated data,”
and optimization is performed in the “classical” way via an optimization
algorithm such as Nelder-Mead or Differential Evolution.&lt;/p&gt;'><sup>2</sup></a></p>
<div class="sourceCode" id="cb35"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">fits_agg</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/estimate_dm.html">estimate_dm</a></span><span class="op">(</span></span>
<span>  drift_dm_obj <span class="op">=</span> <span class="va">ddm</span>,</span>
<span>  obs_data <span class="op">=</span> <span class="va">data</span>,</span>
<span>  approach <span class="op">=</span> <span class="st">"agg_c"</span>,</span>
<span>  optimizer <span class="op">=</span> <span class="st">"nmkb"</span>,</span>
<span>  lower <span class="op">=</span> <span class="va">l_u</span><span class="op">$</span><span class="va">lower</span>,</span>
<span>  upper <span class="op">=</span> <span class="va">l_u</span><span class="op">$</span><span class="va">upper</span></span>
<span><span class="op">)</span></span>
<span><span class="co">#&gt; Using the data supplied via the 'obs_data' argument.</span></span>
<span><span class="co">#&gt; Using optimizer 'nmkb'.</span></span>
<span><span class="co">#&gt; Aggregated data has been set to the model.</span></span>
<span><span class="co">#&gt; Fitting the model to aggregated data across participants. The returned object will of type 'fits_agg_dm'.</span></span>
<span><span class="co">#&gt; Starting optimizer 'nmkb' with the following starting values:</span></span>
<span><span class="co">#&gt; muc=4, b=0.6, non_dec=0.3, sd_non_dec=0.02, tau=0.04, A=0.1, alpha=4</span></span>
<span><span class="co">#&gt; Optimization routine exited after 481 function evaluations</span></span>
<span><span class="co">#&gt; Final Parameters</span></span>
<span><span class="co">#&gt; muc = 4.116</span></span>
<span><span class="co">#&gt; b = 0.449</span></span>
<span><span class="co">#&gt; non_dec = 0.305</span></span>
<span><span class="co">#&gt; sd_non_dec = 0.023</span></span>
<span><span class="co">#&gt; tau = 0.021</span></span>
<span><span class="co">#&gt; A = 0.07</span></span>
<span><span class="co">#&gt; alpha = 3.671</span></span>
<span><span class="co">#&gt; ==&gt; gave a rmse of 0.015</span></span></code></pre></div>
<p>Aggregating data offers the advantage of substantially reducing
computational burden, since the model is fitted only once. In addition,
individual data can be very noisy—especially when the number of trials
is moderate—resulting in unreliable parameter estimates. In such cases,
averaging can help obtain more stable parameter estimates.</p>
<p>However, data aggregation must be approached with caution. Parameter
estimates obtained from aggregated data do not necessarily correspond to
the average of individual parameter estimates. Moreover, aggregation
implicitly assumes that the same model generated all data and that it
operates identically for each individual. It also assumes that the
parameters estimated from the aggregated data meaningfully reflect those
of each participant.</p>
<p>Nevertheless, fitting the model to aggregated data can be helpful in
the exploratory stage. If the model already fails to fit the aggregated
data, it is unlikely to succeed when fitted to each individual
separately. In such cases, we can save computation time and directly
focus on modifying the estimation routine or the model itself.</p>
</div>
<div class="section level3">
<h3 id="checking-model-fit">Checking Model Fit<a class="anchor" aria-label="anchor" href="#checking-model-fit"></a>
</h3>
<p>To qualitatively check if a model fits the data, we can use the
previous output from <code><a href="../reference/estimate_dm.html">estimate_dm()</a></code> in combination with the
<code><a href="../reference/calc_stats.html">calc_stats()</a></code> and <code><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot()</a></code> methods. As an
example, we check the model fit of our very first fitting attempt using
“Nelder-Mead”. Specifically, we plot predicted and observed CAFs and
quantiles.</p>
<div class="sourceCode" id="cb36"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">check_fit</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/calc_stats.html">calc_stats</a></span><span class="op">(</span>object <span class="op">=</span> <span class="va">all_fits</span>, type <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"cafs"</span>, <span class="st">"quantiles"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">check_fit</span><span class="op">)</span></span>
<span><span class="co">#&gt; Aggregating across ID</span></span></code></pre></div>
<p><img src="dRiftDM_files/figure-html/plot-results-5-1.png" width="700"></p>
<pre><code><span><span class="co">#&gt; Aggregating across ID</span></span></code></pre>
<p><img src="dRiftDM_files/figure-html/plot-results-5-2.png" width="700"></p>
<p>Circles indicate observed data while lines indicate the model’s
predictions.</p>
</div>
<div class="section level3">
<h3 id="extracting-parameter-estimates-and-fit-statistics">Extracting Parameter Estimates and Fit Statistics<a class="anchor" aria-label="anchor" href="#extracting-parameter-estimates-and-fit-statistics"></a>
</h3>
<p>Extracting the parameter estimates can be done via the
<code><a href="https://rdrr.io/r/stats/coef.html" class="external-link">coef()</a></code> method, which work with the objects returned by
<code><a href="../reference/estimate_dm.html">estimate_dm()</a></code>.</p>
<div class="sourceCode" id="cb38"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">all_coefs</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/coef.html" class="external-link">coef</a></span><span class="op">(</span><span class="va">all_fits</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">all_coefs</span><span class="op">)</span></span>
<span><span class="co">#&gt; Object Type: coefs_dm</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;   ID   muc     b non_dec sd_non_dec   tau     A alpha</span></span>
<span><span class="co">#&gt; 1  1 4.274 0.446   0.308      0.022 0.020 0.114 5.294</span></span>
<span><span class="co">#&gt; 2  2 4.105 0.378   0.303      0.032 0.020 0.058 5.893</span></span>
<span><span class="co">#&gt; 3  3 5.425 0.433   0.307      0.019 0.059 0.025 4.446</span></span>
<span><span class="co">#&gt; 4  4 2.863 0.537   0.302      0.034 0.051 0.101 2.761</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; (access the data.frame's columns/rows as usual)</span></span></code></pre></div>
<p>We can even make a quick visualization of the respective
distributions using the <code><a href="https://rdrr.io/r/graphics/hist.html" class="external-link">hist()</a></code> method.</p>
<div class="sourceCode" id="cb39"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/graphics/hist.html" class="external-link">hist</a></span><span class="op">(</span><span class="va">all_coefs</span>, bundle_plots <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></code></pre></div>
<p><img src="dRiftDM_files/figure-html/plot-results-6-1.png" width="700"><img src="dRiftDM_files/figure-html/plot-results-6-2.png" width="700"><img src="dRiftDM_files/figure-html/plot-results-6-3.png" width="700"><img src="dRiftDM_files/figure-html/plot-results-6-4.png" width="700"><img src="dRiftDM_files/figure-html/plot-results-6-5.png" width="700"><img src="dRiftDM_files/figure-html/plot-results-6-6.png" width="700"><img src="dRiftDM_files/figure-html/plot-results-6-7.png" width="700"></p>
<p>After fitting a model, we often want to quantify its fit—and maybe
compare the quantiative fit between several candidate models. To this
end, we can request several relative and absolute fit measures, using
<code><a href="../reference/calc_stats.html">calc_stats()</a></code> and the argument
<code>type = "fit_stats"</code>.</p>
<div class="sourceCode" id="cb40"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/calc_stats.html">calc_stats</a></span><span class="op">(</span><span class="va">all_fits</span>, type <span class="op">=</span> <span class="st">"fit_stats"</span><span class="op">)</span></span>
<span><span class="co">#&gt; Type of Statistic: fit_stats</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;   ID Log_Like Neg_Log_Like       AIC      BIC RMSE_s RMSE_ms</span></span>
<span><span class="co">#&gt; 1  1  418.653     -418.653  -823.307 -796.587  0.031  30.703</span></span>
<span><span class="co">#&gt; 2  2  384.298     -384.298  -754.596 -727.876  0.038  38.264</span></span>
<span><span class="co">#&gt; 3  3  508.641     -508.641 -1003.283 -976.563  0.017  17.422</span></span>
<span><span class="co">#&gt; 4  4  172.322     -172.322  -330.644 -304.008  0.039  38.599</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; (access the data.frame's columns/rows as usual)</span></span></code></pre></div>
<p>The first few columns provide the (negative) log-likelihood, and the
Akaike and Bayesian Information Criterion. The last two columns provide
the RMSE statistic (in the unit of seconds and milliseconds).</p>
<p>A neat summary of the model, the optimization routine, the data, and
the parameter estimates can be obtained via the <code><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary()</a></code>
method.</p>
<div class="sourceCode" id="cb41"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">all_fits</span><span class="op">)</span></span>
<span><span class="co">#&gt; Fit approach: separately - classical</span></span>
<span><span class="co">#&gt; Fitted model type: dmc_dm, drift_dm</span></span>
<span><span class="co">#&gt; Optimizer: Nelder-Mead </span></span>
<span><span class="co">#&gt; Convergence: TRUE </span></span>
<span><span class="co">#&gt; N Individuals: 4 </span></span>
<span><span class="co">#&gt; Average Trial Numbers:</span></span>
<span><span class="co">#&gt;  167 trials comp; 168 trials incomp</span></span>
<span><span class="co">#&gt; Cost Function: neg_log_like</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Parameter Summary: comp </span></span>
<span><span class="co">#&gt;           muc     b non_dec sd_non_dec   tau a     A alpha peak_l</span></span>
<span><span class="co">#&gt; mean    4.167 0.448   0.305      0.027 0.037 2 0.074 4.598  0.037</span></span>
<span><span class="co">#&gt; std_err 0.524 0.033   0.001      0.004 0.010 0 0.020 0.681  0.010</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Parameter Summary: incomp </span></span>
<span><span class="co">#&gt;           muc     b non_dec sd_non_dec   tau a      A alpha peak_l</span></span>
<span><span class="co">#&gt; mean    4.167 0.448   0.305      0.027 0.037 2 -0.074 4.598  0.037</span></span>
<span><span class="co">#&gt; std_err 0.524 0.033   0.001      0.004 0.010 0  0.020 0.681  0.010</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; -------</span></span>
<span><span class="co">#&gt; Deriving PDFS:</span></span>
<span><span class="co">#&gt;   solver: kfe</span></span>
<span><span class="co">#&gt;   values: sigma=1, t_max=3, dt=0.0075, dx=0.02, nt=400, nx=100</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="experimental-perform-bayesian-parameter-estimation">Experimental: Perform Bayesian Parameter Estimation<a class="anchor" aria-label="anchor" href="#experimental-perform-bayesian-parameter-estimation"></a>
</h3>
<p>Starting with <code>dRiftDM</code> v.0.3.0, there is also the option
to perform Bayesian parameter estimation using DE-MCMC. Yet, this is
currently at an experimental stage, and the returned
<code>mcmc_dm</code> object type is not yet fully integrated within the
remaining <code>dRiftDM</code> framework.</p>
<p>We can request Bayesian parameter estimation using the argument
<code>approach = "sep_b"</code> or <code>approach = "hier_b"</code>. In
the former case, the model is fitted separately per participant, in the
latter case, the model is fitted hierarchically.</p>
<p>The prior distributions can be parameterized using the arguments
<code>lower</code>, <code>upper</code>, <code>means</code>,
<code>sds</code>, <code>shapes</code>, and <code>rates</code> (see the
documentation of <code><a href="../reference/estimate_dm.html">estimate_dm()</a></code>)</p>
<div class="sourceCode" id="cb42"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># DMC without variability in the non-decision time;</span></span>
<span><span class="co"># makes it a bit easier to estimate, although it is still</span></span>
<span><span class="co"># difficult, because trial numbers are low in the sample data set :)</span></span>
<span><span class="va">ddm</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/dmc_dm.html">dmc_dm</a></span><span class="op">(</span>var_non_dec <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># lower and upper boundary for the prior distributions</span></span>
<span><span class="va">l_u</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/get_lower_upper.html">get_lower_upper</a></span><span class="op">(</span><span class="va">ddm</span><span class="op">)</span></span>
<span><span class="va">mcmc_list</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/estimate_dm.html">estimate_dm</a></span><span class="op">(</span></span>
<span>  drift_dm_obj <span class="op">=</span> <span class="va">ddm</span>,</span>
<span>  obs_data <span class="op">=</span> <span class="va">data</span>,</span>
<span>  approach <span class="op">=</span> <span class="st">"sep_b"</span>,</span>
<span>  lower <span class="op">=</span> <span class="va">l_u</span><span class="op">$</span><span class="va">lower</span>,</span>
<span>  upper <span class="op">=</span> <span class="va">l_u</span><span class="op">$</span><span class="va">upper</span>,</span>
<span>  verbose <span class="op">=</span> <span class="fl">2</span>,</span>
<span>  n_chains <span class="op">=</span> <span class="fl">40</span>,</span>
<span>  n_cores <span class="op">=</span> <span class="fl">1</span>,   <span class="co"># increase to parallelize</span></span>
<span>  burn_in <span class="op">=</span> <span class="fl">150</span>, <span class="co"># for the demo, usually a bit higher</span></span>
<span>  samples <span class="op">=</span> <span class="fl">150</span>, <span class="co"># for the demo, usually a bit higher</span></span>
<span>  seed <span class="op">=</span> <span class="fl">1</span></span>
<span><span class="op">)</span></span>
<span><span class="co">#&gt; Using the data supplied via the 'obs_data' argument.</span></span>
<span><span class="co">#&gt; Using optimizer 'DE-MCMC'.</span></span>
<span><span class="co">#&gt; Fitting the model separaetely to multiple participants using the Bayesian framework. For now, the result will be a list of 'mcmc_dm' objects.</span></span>
<span><span class="co">#&gt; Finding starting values...</span></span>
<span><span class="co">#&gt; Starting the sampling procedure</span></span>
<span><span class="co">#&gt; Finding starting values...</span></span>
<span><span class="co">#&gt; Starting the sampling procedure</span></span>
<span><span class="co">#&gt; Finding starting values...</span></span>
<span><span class="co">#&gt; Starting the sampling procedure</span></span>
<span><span class="co">#&gt; Finding starting values...</span></span>
<span><span class="co">#&gt; Starting the sampling procedure</span></span></code></pre></div>
<p>This returns a list of <code>mcmc_dm</code> objects, one for each
individual.</p>
<div class="sourceCode" id="cb43"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">one_mcmc</span> <span class="op">&lt;-</span> <span class="va">mcmc_list</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span></span>
<span><span class="va">one_mcmc</span></span>
<span><span class="co">#&gt; Sampler: DE-MCMC </span></span>
<span><span class="co">#&gt; Hierarchical: FALSE </span></span>
<span><span class="co">#&gt; No. Parameters: 6 </span></span>
<span><span class="co">#&gt; No. Chains: 40 </span></span>
<span><span class="co">#&gt; Iterations Per Chain: 150</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/stats/coef.html" class="external-link">coef</a></span><span class="op">(</span><span class="va">one_mcmc</span><span class="op">)</span></span>
<span><span class="co">#&gt;        muc          b    non_dec        tau          A      alpha </span></span>
<span><span class="co">#&gt; 4.43895842 0.64038802 0.26251248 0.06067285 0.08268417 6.89377463</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">one_mcmc</span>, bundle_plots <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></code></pre></div>
<p><img src="dRiftDM_files/figure-html/plot-results-7-1.png" width="700"><img src="dRiftDM_files/figure-html/plot-results-7-2.png" width="700"><img src="dRiftDM_files/figure-html/plot-results-7-3.png" width="700"><img src="dRiftDM_files/figure-html/plot-results-7-4.png" width="700"><img src="dRiftDM_files/figure-html/plot-results-7-5.png" width="700"><img src="dRiftDM_files/figure-html/plot-results-7-6.png" width="700"></p>
<p>It is also possible to request hierarchical estimation.</p>
<div class="sourceCode" id="cb44"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">mcmc_hier</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/estimate_dm.html">estimate_dm</a></span><span class="op">(</span></span>
<span>  drift_dm_obj <span class="op">=</span> <span class="va">ddm</span>,</span>
<span>  obs_data <span class="op">=</span> <span class="va">data</span>,</span>
<span>  approach <span class="op">=</span> <span class="st">"hier_b"</span>,</span>
<span>  lower <span class="op">=</span> <span class="va">l_u</span><span class="op">$</span><span class="va">lower</span>,</span>
<span>  upper <span class="op">=</span> <span class="va">l_u</span><span class="op">$</span><span class="va">upper</span>,</span>
<span>  verbose <span class="op">=</span> <span class="fl">2</span>,</span>
<span>  n_chains <span class="op">=</span> <span class="fl">40</span>,</span>
<span>  n_cores <span class="op">=</span> <span class="fl">1</span>, <span class="co"># increase for speed-up</span></span>
<span>  burn_in <span class="op">=</span> <span class="fl">150</span>, <span class="co"># for the demo, usually way higher</span></span>
<span>  samples <span class="op">=</span> <span class="fl">150</span>, <span class="co"># for the demo, usually way higher</span></span>
<span>  seed <span class="op">=</span> <span class="fl">1</span></span>
<span><span class="op">)</span></span></code></pre></div>
</div>
</div>
<div class="section level2">
<h2 id="simulating-data">Simulating Data<a class="anchor" aria-label="anchor" href="#simulating-data"></a>
</h2>
<p>To simulate data based on a model, we can use the
<code><a href="../reference/simulate_data.html">simulate_data()</a></code> function. The first argument takes the
model object. The second argument is a numeric (vector), defining the
number of trials per condition:</p>
<div class="sourceCode" id="cb45"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">ddm</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/ratcliff_dm.html">ratcliff_dm</a></span><span class="op">(</span><span class="op">)</span> <span class="co"># a model for demonstration purpose</span></span>
<span><span class="va">sim_1</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/simulate_data.html">simulate_data</a></span><span class="op">(</span>object <span class="op">=</span> <span class="va">ddm</span>, n <span class="op">=</span> <span class="fl">200</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">sim_1</span><span class="op">)</span></span>
<span><span class="co">#&gt;      RT Error Cond</span></span>
<span><span class="co">#&gt; 1 0.384     0 null</span></span>
<span><span class="co">#&gt; 2 0.453     0 null</span></span>
<span><span class="co">#&gt; 3 0.361     0 null</span></span>
<span><span class="co">#&gt; 4 0.355     0 null</span></span>
<span><span class="co">#&gt; 5 0.433     0 null</span></span>
<span><span class="co">#&gt; 6 0.737     0 null</span></span></code></pre></div>
<p>This returns a single synthetic data set for one “participant”. Note
that the simulated response times are rounded to three digits per
default.</p>
<p>By specifying the argument <code>k</code>, we can simulate multiple
synthetic data sets simultaneously. In this case, however, we must also
specify lower and upper bounds to define the simulation space when
drawing random parameter combinations per data set (see the
<code>simulate_data</code> documentation for more details):</p>
<div class="sourceCode" id="cb46"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">sim_2</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/simulate_data.html">simulate_data</a></span><span class="op">(</span></span>
<span>  object <span class="op">=</span> <span class="va">ddm</span>, n <span class="op">=</span> <span class="fl">200</span>, k <span class="op">=</span> <span class="fl">2</span>,</span>
<span>  lower <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span>muc <span class="op">=</span> <span class="fl">1</span>, b <span class="op">=</span> <span class="fl">.4</span>, non_dec <span class="op">=</span> <span class="fl">.2</span><span class="op">)</span>,</span>
<span>  upper <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span>muc <span class="op">=</span> <span class="fl">6</span>, b <span class="op">=</span> <span class="fl">.8</span>, non_dec <span class="op">=</span> <span class="fl">.4</span><span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p>This returns a list with the synthetic data sets and the
corresponding parameter values:</p>
<div class="sourceCode" id="cb47"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">sim_2</span><span class="op">$</span><span class="va">synth_data</span><span class="op">)</span></span>
<span><span class="co">#&gt;      RT Error Cond ID</span></span>
<span><span class="co">#&gt; 1 0.442     0 null  1</span></span>
<span><span class="co">#&gt; 2 0.575     0 null  1</span></span>
<span><span class="co">#&gt; 3 0.497     0 null  1</span></span>
<span><span class="co">#&gt; 4 0.373     0 null  1</span></span>
<span><span class="co">#&gt; 5 0.372     0 null  1</span></span>
<span><span class="co">#&gt; 6 0.374     0 null  1</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">sim_2</span><span class="op">$</span><span class="va">prms</span><span class="op">)</span></span>
<span><span class="co">#&gt;   ID      muc         b   non_dec</span></span>
<span><span class="co">#&gt; 1  1 3.150769 0.5352176 0.2355121</span></span>
<span><span class="co">#&gt; 2  2 2.069268 0.4133454 0.2690531</span></span></code></pre></div>
<p>The returned data sets are in a format that can be passed directly to
<code><a href="../reference/estimate_model_ids.html">estimate_model_ids()</a></code>, making parameter recovery exercises
very easy.</p>
</div>
<div class="section level2">
<h2 id="remark-stripping-away-unnecesary-attributes-and-class-labels">Remark: Stripping Away “Unnecesary” Attributes and Class Labels<a class="anchor" aria-label="anchor" href="#remark-stripping-away-unnecesary-attributes-and-class-labels"></a>
</h2>
<p>Many functions in <code>dRiftDM</code> return matrices or
data.frames. Often these returned objects are S3 objects with a custom
class label. In principle, this is great because it allows you to reuse
generic functions like <code><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot()</a></code>, <code><a href="https://rdrr.io/r/base/print.html" class="external-link">print()</a></code>, or
<code><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary()</a></code> as we saw above.</p>
<p>However, sometimes this also hides the true structure of the
underlying data type. Therefore, we provide the
<code><a href="../reference/unpack_obj.html">unpack_obj()</a></code> function, which allows you to strip away
unnecessary attributes and class labels. This can be useful, for
example, if you want to create your own plot or wrangle the data into a
particular format.</p>
<div class="sourceCode" id="cb48"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">ddm</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/dmc_dm.html">dmc_dm</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="va">traces</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/simulate_traces.html">simulate_traces</a></span><span class="op">(</span><span class="va">ddm</span>, k <span class="op">=</span> <span class="fl">2</span><span class="op">)</span></span>
<span><span class="co"># although this object is essentially a list of matrices, the class label ...</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/class.html" class="external-link">class</a></span><span class="op">(</span><span class="va">traces</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "traces_dm_list"</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">traces</span><span class="op">)</span> <span class="co"># ... leads to nicely formatted output; but hides the underlying structure</span></span>
<span><span class="co">#&gt; Class(es): traces_dm_list</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Time space:</span></span>
<span><span class="co">#&gt; 0.000, 0.007, 0.015, 0.022 ... 3.000 </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Condition: comp </span></span>
<span><span class="co">#&gt; ~&gt;  0.000,  0.239,  0.287,  0.243 ...  0.676 </span></span>
<span><span class="co">#&gt; ~&gt;  0.000, -0.104, -0.137, -0.185 ...  0.639 </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Condition: incomp </span></span>
<span><span class="co">#&gt; ~&gt;  0.000, -0.005,  0.020,  0.032 ...  0.667 </span></span>
<span><span class="co">#&gt; ~&gt;  0.000, -0.128, -0.178, -0.106 ...  0.608</span></span>
<span></span>
<span><span class="va">raw</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/unpack_obj.html">unpack_obj</a></span><span class="op">(</span><span class="va">traces</span><span class="op">)</span> <span class="co"># provides the plain list of matrices</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/t.html" class="external-link">t</a></span><span class="op">(</span><span class="va">raw</span><span class="op">$</span><span class="va">comp</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt;           [,1]       [,2]</span></span>
<span><span class="co">#&gt; [1,] 0.0000000  0.0000000</span></span>
<span><span class="co">#&gt; [2,] 0.2387526 -0.1035851</span></span>
<span><span class="co">#&gt; [3,] 0.2865938 -0.1373298</span></span>
<span><span class="co">#&gt; [4,] 0.2428892 -0.1849793</span></span>
<span><span class="co">#&gt; [5,] 0.3130805 -0.3254528</span></span>
<span><span class="co">#&gt; [6,] 0.3192930 -0.3616110</span></span></code></pre></div>
<div id="refs" class="references csl-bib-body hanging-indent" entry-spacing="0">
<div id="ref-Janczyketal.2024" class="csl-entry">
Janczyk, Markus, Ian Grant Mackenzie, and Valentin Koob. 2024. <span>“A
Comment on the Revised Diffusion Model for Conflict Tasks
(RDMC).”</span> <em>Psychonomic Bulletin &amp; Review</em>, 1–15.
</div>
<div id="ref-Ratcliff1978" class="csl-entry">
Ratcliff, Roger. 1978. <span>“A Theory of Memory Retrieval.”</span>
<em>Psychological Review</em> 85 (2): 59–108. <a href="https://doi.org/10.1037/0033-295X.85.2.59" class="external-link">https://doi.org/10.1037/0033-295X.85.2.59</a>.
</div>
<div id="ref-Richteretal.2023" class="csl-entry">
Richter, Thomas, Rolf Ulrich, and Markus Janczyk. 2023. <span>“Diffusion
Models with Time-Dependent Parameters: An Analysis of Computational
Effort and Accuracy of Different Numerical Methods.”</span> <em>Journal
of Mathematical Psychology</em> 114: 102756. <a href="https://doi.org/10.1016/j.jmp.2023.102756" class="external-link">https://doi.org/10.1016/j.jmp.2023.102756</a>.
</div>
<div id="ref-Ulrichetal.2015" class="csl-entry">
Ulrich, Rolf, Hannes Schröter, Hartmut Leuthold, and Teresa Birngruber.
2015. <span>“Automatic and Controlled Stimulus Processing in Conflict
Tasks: Superimposed Diffusion Processes and Delta Functions.”</span>
<em>Cognitive Psychology</em> 78: 148–74. <a href="https://doi.org/10.1016/j.cogpsych.2015.02.005" class="external-link">https://doi.org/10.1016/j.cogpsych.2015.02.005</a>.
</div>
<div id="ref-Whiteetal.2011" class="csl-entry">
White, Corey N, Roger Ratcliff, and Jeffrey J Starns. 2011.
<span>“Diffusion Models of the Flanker Task: Discrete Versus Gradual
Attentional Selection.”</span> <em>Cognitive Psychology</em> 63 (4):
210–38. <a href="https://doi.org/10.1016/j.cogpsych.2011.08.001" class="external-link">https://doi.org/10.1016/j.cogpsych.2011.08.001</a>.
</div>
</div>
</div>

  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by Valentin Koob, Thomas Richter, Markus Janczyk.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer>
</div>





  </body>
</html>
