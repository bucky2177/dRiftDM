<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Introduction to dRiftDM • dRiftDM</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Introduction to dRiftDM">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">dRiftDM</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.2.1.9000</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="active nav-item"><a class="nav-link" href="../articles/dRiftDM.html">Get started</a></li>
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="../articles/convert_dmc_parameters.html">How to Convert DMC's parameters</a></li>
    <li><a class="dropdown-item" href="../articles/customize_ddms.html">How To Customize DDMs</a></li>
  </ul>
</li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/bucky2177/dRiftDM/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Introduction to dRiftDM</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/bucky2177/dRiftDM/blob/main/vignettes/dRiftDM.Rmd" class="external-link"><code>vignettes/dRiftDM.Rmd</code></a></small>
      <div class="d-none name"><code>dRiftDM.Rmd</code></div>
    </div>

    
    
<p>When working with drift-diffusion models (DDMs) you probably want
to:</p>
<ul>
<li><p>Build or select an existing model</p></li>
<li><p>Explore the model behavior and validate the model’s
reliability</p></li>
<li><p>Fit the model to data</p></li>
<li><p>Explore the model fit</p></li>
</ul>
<p>The dRiftDM package helps you to do this:</p>
<ul>
<li><p>With dedicated functions and workflows</p></li>
<li><p>Options to customize models</p></li>
<li><p>With efficient algorithms to derive the model predictions <span class="citation">(see Richter, Ulrich, and Janczyk 2023)</span></p></li>
</ul>
<p>The pre-built models currently available are:</p>
<ul>
<li><p>The Ratcliff Diffusion Model <span class="citation">(see
<code><a href="../reference/ratcliff_dm.html">ratcliff_dm()</a></code>, Ratcliff 1978)</span></p></li>
<li><p>The Diffusion Model for Conflict Tasks <span class="citation">(see <code><a href="../reference/dmc_dm.html">dmc_dm()</a></code>, Ulrich et al.
2015)</span></p></li>
<li><p>The Shrinking Spotlight Model <span class="citation">(see
<code><a href="../reference/ssp_dm.html">ssp_dm()</a></code>, White, Ratcliff, and Starns 2011)</span></p></li>
</ul>
<p>This document introduces you to dRiftDM, focusing on first steps in
exploring and fitting a DDM.</p>
<div class="section level3">
<h3 id="an-examplary-model">An Examplary Model<a class="anchor" aria-label="anchor" href="#an-examplary-model"></a>
</h3>
<p>To explore some of the basic functions of dRiftDM, we’ll use the
Diffusion Model for Conflict Tasks (DMC). It is a diffusion model
commonly employed in the context of cognitive psychology.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">ddm</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/dmc_dm.html">dmc_dm</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="basic-properties-of-a-model">Basic Properties of a Model<a class="anchor" aria-label="anchor" href="#basic-properties-of-a-model"></a>
</h3>
<p>When printing a model to the console, we obtain detailed information
about it:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">ddm</span><span class="op">)</span></span>
<span><span class="co">#&gt; Class(es): dmc_dm, drift_dm</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Current Parameter Matrix:</span></span>
<span><span class="co">#&gt;        muc   b non_dec sd_non_dec  tau a    A alpha</span></span>
<span><span class="co">#&gt; comp     4 0.6     0.3       0.02 0.04 2  0.1     4</span></span>
<span><span class="co">#&gt; incomp   4 0.6     0.3       0.02 0.04 2 -0.1     4</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Unique Parameters:</span></span>
<span><span class="co">#&gt;        muc b non_dec sd_non_dec tau a A alpha</span></span>
<span><span class="co">#&gt; comp   1   2 3       4          5   0 6 7    </span></span>
<span><span class="co">#&gt; incomp 1   2 3       4          5   0 d 7    </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Special Dependencies:</span></span>
<span><span class="co">#&gt; A ~ incomp == -(A ~ comp)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Custom Parameters:</span></span>
<span><span class="co">#&gt;        peak_l</span></span>
<span><span class="co">#&gt; comp     0.04</span></span>
<span><span class="co">#&gt; incomp   0.04</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Deriving PDFs:</span></span>
<span><span class="co">#&gt;   solver: kfe</span></span>
<span><span class="co">#&gt;   values: sigma=1, t_max=3, dt=0.001, dx=0.001, nt=3000, nx=2000</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Observed Data: NULL</span></span></code></pre></div>
<p>Here we get a glimpse on the underlying structure of any model
created with dRiftDM. For DMC this is:</p>
<ul>
<li><p>The model is of type <code>dmc_dm</code></p></li>
<li><p>The model has the parameters <code>muc</code>, <code>b</code>, …,
<code>alpha</code>, and the parameter values across conditions are shown
under <code>Current Parameter Matrix</code>.</p></li>
<li><p>Below this, under <code>Unique Parameters</code>, we obtain how
each parameter behaves across conditions. If a number is the same for a
parameter across conditions, this means that this parameter is equated
across conditions. For example, the parameter <code>muc</code> is
assumed to be identical across the conditions <code>comp</code> and
<code>incomp</code>. If a number is zero, this means that this parameter
is assumed to be “fixed” and thus is not a “free” parameter that can be
estimated. If an entry shows a “d”, this means there is a special
dependency, as listed under <code>Special Dependencies</code> (see
<code><a href="../articles/customize_ddms.html">vignette("customize_ddms", "dRiftDM")</a></code> for more
information).
<!--^[comp and incomp stand for compatible and incompatible, the two experimental conditions common to all conflict tasks. In a conflict task, participants perform a task while being presented with irrelevant, distracting information. For example, they have to respond to a single letter surrounded by irrelevant, flanking letters. In compatible vs. incompatible trials, the distracting information matches vs. mismatches with the task-relevant information, respectively.]--></p></li>
<li><p>When fitting or exploring a model, we will have to derive the
model predictions in terms of the first-passage-time (i.e., the duration
of central response selection in the context of psychology). The
settings for this are shown under <code>Deriving PDFs</code>. Currently,
predictions are derived by a numerical discretization of the
Kolmogorov-Forward-Equation (<code>kfe</code>). The diffusion constant
<code>sigma</code> is 1. The maximum time space is 3 seconds. And the
discretization in time and space is done in steps of 0.001.</p></li>
</ul>
</div>
<div class="section level2">
<h2 id="exploring-a-model">Exploring a Model<a class="anchor" aria-label="anchor" href="#exploring-a-model"></a>
</h2>
<p>To explore a model, dRiftDM provides:</p>
<ul>
<li><p><code><a href="../reference/simulate_traces.html">simulate_traces()</a></code> simulates realizations of the
diffusion process</p></li>
<li><p><code><a href="../reference/calc_stats.html">calc_stats()</a></code> calculates summary statistics of model
predictions</p></li>
</ul>
<div class="section level3">
<h3 id="simulate_traces">
<code>simulate_traces()</code><a class="anchor" aria-label="anchor" href="#simulate_traces"></a>
</h3>
<p>Realizations of a diffusion process, that is, single evidence
accumulation <em>traces</em> for central response selection, are common
ways to visualize a diffusion model. The first argument requires the
model object. The second argument requires the number of realizations to
simulate.</p>
<p>For example, we can simulate 5 traces for DMC per condition like
this:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">five_traces</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/simulate_traces.html">simulate_traces</a></span><span class="op">(</span>object <span class="op">=</span> <span class="va">ddm</span>, k <span class="op">=</span> <span class="fl">5</span><span class="op">)</span></span>
<span><span class="va">five_traces</span></span>
<span><span class="co">#&gt; Class(es): traces_dm_list</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Time space:</span></span>
<span><span class="co">#&gt; 0.000, 0.001, 0.002, 0.003 ... 3.000 </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Condition: comp </span></span>
<span><span class="co">#&gt; ~&gt;  0.000, -0.033, -0.015, -0.082 ...  0.620 </span></span>
<span><span class="co">#&gt; ~&gt;  0.000,  0.023,  0.003, -0.003 ...  0.610 </span></span>
<span><span class="co">#&gt; ~&gt;  0.000, -0.017, -0.008, -0.055 ...  0.629 </span></span>
<span><span class="co">#&gt; ~&gt;  0.000,  0.008, -0.022,  0.037 ...  0.640 </span></span>
<span><span class="co">#&gt; ...</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Condition: incomp </span></span>
<span><span class="co">#&gt; ~&gt;  0.000,  0.002,  0.030,  0.009 ...  0.617 </span></span>
<span><span class="co">#&gt; ~&gt;  0.000,  0.050, -0.002, -0.034 ...  0.602 </span></span>
<span><span class="co">#&gt; ~&gt;  0.000,  0.014, -0.019, -0.017 ...  0.630 </span></span>
<span><span class="co">#&gt; ~&gt;  0.000,  0.024, -0.022, -0.084 ...  0.607 </span></span>
<span><span class="co">#&gt; ...</span></span></code></pre></div>
<p>Per default, traces are simulated by assuming a fixed starting value
of zero. To simulate traces with a starting point, we can set the
argument <code>add_x = TRUE</code>:</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">five_traces</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/simulate_traces.html">simulate_traces</a></span><span class="op">(</span>object <span class="op">=</span> <span class="va">ddm</span>, k <span class="op">=</span> <span class="fl">5</span>, add_x <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span><span class="va">five_traces</span></span>
<span><span class="co">#&gt; Class(es): traces_dm_list</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Time space:</span></span>
<span><span class="co">#&gt; 0.000, 0.001, 0.002, 0.003 ... 3.000 </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Condition: comp </span></span>
<span><span class="co">#&gt; ~&gt;  0.104,  0.119,  0.138,  0.149 ...  0.600 </span></span>
<span><span class="co">#&gt; ~&gt;  0.104,  0.104,  0.092,  0.099 ...  0.611 </span></span>
<span><span class="co">#&gt; ~&gt;  0.017,  0.006, -0.024, -0.001 ...  0.645 </span></span>
<span><span class="co">#&gt; ~&gt;  0.173,  0.192,  0.203,  0.191 ...  0.633 </span></span>
<span><span class="co">#&gt; ...</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Condition: incomp </span></span>
<span><span class="co">#&gt; ~&gt; -0.301, -0.347, -0.333, -0.328 ...  0.601 </span></span>
<span><span class="co">#&gt; ~&gt; -0.096, -0.173, -0.223, -0.247 ...  0.603 </span></span>
<span><span class="co">#&gt; ~&gt;  0.299,  0.273,  0.245,  0.224 ...  0.623 </span></span>
<span><span class="co">#&gt; ~&gt;  0.228,  0.234,  0.255,  0.237 ...  0.617 </span></span>
<span><span class="co">#&gt; ...</span></span></code></pre></div>
<p>In the context of DMC, starting values of the traces are drawn from a
symmetric beta distribution <span class="citation">(see Ulrich et al.
2015)</span>.</p>
<p>We can easily visualize these traces by calling the generic
<code><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot()</a></code> method:</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">five_traces</span>, col <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"green"</span>, <span class="st">"red"</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p><img src="dRiftDM_files/figure-html/unnamed-chunk-6-1.png" width="700"></p>
<p>When visualizing the basic model behavior, one often wants to display
the expected time-course of the diffusion process. We can do so by
eliminating the stochastic noise, setting the argument
<code>sigma = 0</code>.</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">exp_behavior</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/simulate_traces.html">simulate_traces</a></span><span class="op">(</span>object <span class="op">=</span> <span class="va">ddm</span>, k <span class="op">=</span> <span class="fl">1</span>, sigma <span class="op">=</span> <span class="fl">0</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">exp_behavior</span>, col <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"green"</span>, <span class="st">"red"</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p><img src="dRiftDM_files/figure-html/unnamed-chunk-7-1.png" width="700"></p>
</div>
<div class="section level3">
<h3 id="calc_stats">
<code>calc_stats()</code><a class="anchor" aria-label="anchor" href="#calc_stats"></a>
</h3>
<p>A DDM predicts response choice and response times, with the latter
being the sum of the first-passage-time (i.e., the duration of central
response selection) and the non-decision time. We can request summary
statistics of this prediction with <code><a href="../reference/calc_stats.html">calc_stats()</a></code>. The first
argument requires the model object. The second argument a character
vector, specifying the <code>type</code> of summary statistic.</p>
<p>In the context of cognitive psychology, quantiles and so-called
Conditional Accuracy Functions (CAFs) are common ways to summarize the
model predictions:</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">sum_stats</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/calc_stats.html">calc_stats</a></span><span class="op">(</span>object <span class="op">=</span> <span class="va">ddm</span>, type <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"cafs"</span>, <span class="st">"quantiles"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">sum_stats</span></span>
<span><span class="co">#&gt; Element 1, contains cafs</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;    Source   Cond Bin P_corr</span></span>
<span><span class="co">#&gt; 1    pred   comp   1  0.982</span></span>
<span><span class="co">#&gt; 2    pred   comp   2  0.982</span></span>
<span><span class="co">#&gt; 3    pred   comp   3  0.980</span></span>
<span><span class="co">#&gt; 4    pred   comp   4  0.983</span></span>
<span><span class="co">#&gt; 5    pred   comp   5  0.989</span></span>
<span><span class="co">#&gt; 6    pred incomp   1  0.831</span></span>
<span><span class="co">#&gt; 7    pred incomp   2  0.970</span></span>
<span><span class="co">#&gt; 8    pred incomp   3  0.986</span></span>
<span><span class="co">#&gt; 9    pred incomp   4  0.991</span></span>
<span><span class="co">#&gt; 10   pred incomp   5  0.992</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Element 2, contains quantiles</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;    Source   Cond Prob Quant_corr Quant_err</span></span>
<span><span class="co">#&gt; 1    pred   comp  0.1      0.325     0.321</span></span>
<span><span class="co">#&gt; 2    pred   comp  0.2      0.345     0.342</span></span>
<span><span class="co">#&gt; 3    pred   comp  0.3      0.363     0.360</span></span>
<span><span class="co">#&gt; 4    pred   comp  0.4      0.383     0.378</span></span>
<span><span class="co">#&gt; 5    pred   comp  0.5      0.406     0.397</span></span>
<span><span class="co">#&gt; 6    pred   comp  0.6      0.433     0.417</span></span>
<span><span class="co">#&gt; 7    pred   comp  0.7      0.465     0.441</span></span>
<span><span class="co">#&gt; 8    pred   comp  0.8      0.508     0.474</span></span>
<span><span class="co">#&gt; 9    pred   comp  0.9      0.576     0.530</span></span>
<span><span class="co">#&gt; 10   pred incomp  0.1      0.352     0.300</span></span>
<span><span class="co">#&gt; ...</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; (access the list's elements as usual, e.g., with $cafs)</span></span></code></pre></div>
<p>We can visualize summary statistics with the <code><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot()</a></code>
method:</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">sum_stats</span>, col <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"green"</span>, <span class="st">"red"</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p><img src="dRiftDM_files/figure-html/unnamed-chunk-9-1.png" width="700"><img src="dRiftDM_files/figure-html/unnamed-chunk-9-2.png" width="700"></p>
</div>
</div>
<div class="section level2">
<h2 id="changing-model-properties">Changing Model Properties<a class="anchor" aria-label="anchor" href="#changing-model-properties"></a>
</h2>
<p>To get or set properties of the model, dRiftDM provides
accessor/replacement methods for:</p>
<ul>
<li><p><code><a href="https://rdrr.io/r/stats/coef.html" class="external-link">coef()</a></code> access/replace parameter values</p></li>
<li><p><code><a href="../reference/prms_solve.html">prms_solve()</a></code> access/replace settings for deriving
model predictions (this also includes changing the diffusion
constant)</p></li>
<li><p><code><a href="../reference/solver.html">solver()</a></code> access/replace the method for deriving
model predictions</p></li>
<li><p><code><a href="../reference/b_coding.html">b_coding()</a></code> access/replace the coding of the upper
and lower boundary</p></li>
<li><p><code><a href="../reference/obs_data.html">obs_data()</a></code> access/replace the data set (of a single
participant) attached to the model</p></li>
<li><p><code><a href="../reference/flex_prms.html">flex_prms()</a></code> access/replace the object that controls
how each parameter relates across conditions</p></li>
<li><p><code><a href="../reference/conds.html">conds()</a></code> access/replace the conditions of a
model</p></li>
<li><p><code><a href="../reference/comp_funs.html">comp_funs()</a></code> access/replace the underlying component
functions for the drift rate, boundary, etc.</p></li>
</ul>
<p><code><a href="../reference/comp_funs.html">comp_funs()</a></code>, <code><a href="../reference/flex_prms.html">flex_prms()</a></code>, and
<code><a href="../reference/conds.html">conds()</a></code> are covered in
<code><a href="../articles/customize_ddms.html">vignette("customize_ddms", "dRiftDM")</a></code>.</p>
<div class="section level3">
<h3 id="coef">
<code>coef()</code><a class="anchor" aria-label="anchor" href="#coef"></a>
</h3>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/stats/coef.html" class="external-link">coef</a></span><span class="op">(</span><span class="va">ddm</span><span class="op">)</span></span>
<span><span class="co">#&gt;        muc          b    non_dec sd_non_dec        tau          A      alpha </span></span>
<span><span class="co">#&gt;       4.00       0.60       0.30       0.02       0.04       0.10       4.00</span></span></code></pre></div>
<p>This returns a unique representation of the parameters and their
associated values. Note that this drops parameters that are not
estimable.</p>
<p>We can combine <code><a href="https://rdrr.io/r/stats/coef.html" class="external-link">coef()</a></code> with the <code>[]</code> operator
to change the values of the parameters:</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/stats/coef.html" class="external-link">coef</a></span><span class="op">(</span><span class="va">ddm</span><span class="op">)</span><span class="op">[</span><span class="st">"muc"</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="fl">5</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/stats/coef.html" class="external-link">coef</a></span><span class="op">(</span><span class="va">ddm</span><span class="op">)</span></span>
<span><span class="co">#&gt;        muc          b    non_dec sd_non_dec        tau          A      alpha </span></span>
<span><span class="co">#&gt;       5.00       0.60       0.30       0.02       0.04       0.10       4.00</span></span></code></pre></div>
<p>To request the entire parameter matrix with all parameter values
across conditions, we can set the argument
<code>select_unique = FALSE</code>:</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/stats/coef.html" class="external-link">coef</a></span><span class="op">(</span><span class="va">ddm</span>, select_unique <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span>
<span><span class="co">#&gt;        muc   b non_dec sd_non_dec  tau a    A alpha peak_l</span></span>
<span><span class="co">#&gt; comp     5 0.6     0.3       0.02 0.04 2  0.1     4   0.04</span></span>
<span><span class="co">#&gt; incomp   5 0.6     0.3       0.02 0.04 2 -0.1     4   0.04</span></span></code></pre></div>
<p>In this case, we can not combine <code><a href="https://rdrr.io/r/stats/coef.html" class="external-link">coef()</a></code> with the
<code>[]</code> operator. To change a parameter value for a specific
condition, you can use the function <code><a href="../reference/modify_flex_prms.html">modify_flex_prms()</a></code>.</p>
</div>
<div class="section level3">
<h3 id="prms_solve">
<code>prms_solve()</code><a class="anchor" aria-label="anchor" href="#prms_solve"></a>
</h3>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/prms_solve.html">prms_solve</a></span><span class="op">(</span><span class="va">ddm</span><span class="op">)</span></span>
<span><span class="co">#&gt; sigma t_max    dt    dx    nt    nx </span></span>
<span><span class="co">#&gt; 1e+00 3e+00 1e-03 1e-03 3e+03 2e+03</span></span></code></pre></div>
<p>This shows the diffusion constant and the discretization settings. We
can again use a combination with <code>[]</code> to modify these
values.</p>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/prms_solve.html">prms_solve</a></span><span class="op">(</span><span class="va">ddm</span><span class="op">)</span><span class="op">[</span><span class="st">"dt"</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="fl">0.0025</span></span>
<span><span class="fu"><a href="../reference/prms_solve.html">prms_solve</a></span><span class="op">(</span><span class="va">ddm</span><span class="op">)</span></span>
<span><span class="co">#&gt;   sigma   t_max      dt      dx      nt      nx </span></span>
<span><span class="co">#&gt; 1.0e+00 3.0e+00 2.5e-03 1.0e-03 1.2e+03 2.0e+03</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="solver">
<code>solver()</code><a class="anchor" aria-label="anchor" href="#solver"></a>
</h3>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/solver.html">solver</a></span><span class="op">(</span><span class="va">ddm</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "kfe"</span></span></code></pre></div>
<p>This shows the currently set method for deriving the model’s
predicted probability density functions of response time and choice.
Currently supported options are <code>"kfe"</code> and
<code>"im_zero"</code>. While the <code>"kfe"</code> method can be
applied to all models in dRiftDM, <code>"im_zero"</code> is restricted
to models that don’t have a custom starting point.</p>
</div>
<div class="section level3">
<h3 id="b_coding">
<code>b_coding()</code><a class="anchor" aria-label="anchor" href="#b_coding"></a>
</h3>
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/b_coding.html">b_coding</a></span><span class="op">(</span><span class="va">ddm</span><span class="op">)</span></span>
<span><span class="co">#&gt; $column</span></span>
<span><span class="co">#&gt; [1] "Error"</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $u_name_value</span></span>
<span><span class="co">#&gt; corr </span></span>
<span><span class="co">#&gt;    0 </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $l_name_value</span></span>
<span><span class="co">#&gt; err </span></span>
<span><span class="co">#&gt;   1</span></span></code></pre></div>
<p>This returns a list that specifies how the boundaries of a DDM are
coded. We can change the boundary coding by modifying the returned
list:</p>
<div class="sourceCode" id="cb16"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">copy</span> <span class="op">&lt;-</span> <span class="va">ddm</span> <span class="co"># to not change the original model object</span></span>
<span><span class="fu"><a href="../reference/b_coding.html">b_coding</a></span><span class="op">(</span><span class="va">copy</span><span class="op">)</span><span class="op">$</span><span class="va">column</span> <span class="op">&lt;-</span> <span class="st">"Response"</span></span>
<span><span class="fu"><a href="../reference/b_coding.html">b_coding</a></span><span class="op">(</span><span class="va">copy</span><span class="op">)</span><span class="op">$</span><span class="va">u_name_value</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"left"</span> <span class="op">=</span> <span class="op">-</span><span class="fl">1</span><span class="op">)</span></span>
<span><span class="fu"><a href="../reference/b_coding.html">b_coding</a></span><span class="op">(</span><span class="va">copy</span><span class="op">)</span><span class="op">$</span><span class="va">l_name_value</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"right"</span> <span class="op">=</span> <span class="fl">1</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="../reference/b_coding.html">b_coding</a></span><span class="op">(</span><span class="va">copy</span><span class="op">)</span></span>
<span><span class="co">#&gt; $column</span></span>
<span><span class="co">#&gt; [1] "Response"</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $u_name_value</span></span>
<span><span class="co">#&gt; left </span></span>
<span><span class="co">#&gt;   -1 </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $l_name_value</span></span>
<span><span class="co">#&gt; right </span></span>
<span><span class="co">#&gt;     1</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="obs_data">
<code>obs_data()</code><a class="anchor" aria-label="anchor" href="#obs_data"></a>
</h3>
<p>We can set observed data of a single individual to a model (or access
it) with <code><a href="../reference/obs_data.html">obs_data()</a></code>. When setting observed data, we have to
make sure that the supplied <code>data.frame</code> provides columns
matching with the boundary coding and the conditions of the model.</p>
<div class="sourceCode" id="cb17"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">data</span> <span class="op">&lt;-</span> <span class="fu">dRiftDM</span><span class="fu">::</span><span class="va"><a href="../reference/dmc_synth_data.html">dmc_synth_data</a></span> <span class="co"># some synthetic data suitable for DMC that ships with dRiftDM</span></span>
<span><span class="co"># the Cond column matches with conds(ddm). </span></span>
<span><span class="co"># The Error column matches b_coding(ddm)</span></span>
<span><span class="co"># the RT column is in seconds ;)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">data</span><span class="op">)</span> </span>
<span><span class="co">#&gt;      RT Error Cond</span></span>
<span><span class="co">#&gt; 1 0.349     0 comp</span></span>
<span><span class="co">#&gt; 2 0.444     0 comp</span></span>
<span><span class="co">#&gt; 3 0.441     0 comp</span></span>
<span><span class="co">#&gt; 4 0.572     0 comp</span></span>
<span><span class="co">#&gt; 5 0.438     0 comp</span></span>
<span><span class="co">#&gt; 6 0.535     0 comp</span></span>
<span></span>
<span><span class="fu"><a href="../reference/obs_data.html">obs_data</a></span><span class="op">(</span><span class="va">ddm</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="va">data</span></span></code></pre></div>
<p>Note that the supplied data set is not stored “as is” within the
model object. Thus, when accessing a data set of a model, the data is
re-assembled, and this might change the order of rows or column with
respect to the original data set.</p>
</div>
</div>
<div class="section level2">
<h2 id="fitting-a-model">Fitting a Model<a class="anchor" aria-label="anchor" href="#fitting-a-model"></a>
</h2>
<p>To fit a model to observed data you can use:</p>
<ul>
<li><p><code><a href="../reference/estimate_model.html">estimate_model()</a></code> fits a model to the data of one
participant</p></li>
<li><p><code><a href="../reference/estimate_model_ids.html">estimate_model_ids()</a></code> a wrapper around
<code><a href="../reference/estimate_model.html">estimate_model()</a></code> to fit a model to multiple participants
(participant-wise).</p></li>
</ul>
<div class="section level3">
<h3 id="estimate_model">
<code>estimate_model()</code><a class="anchor" aria-label="anchor" href="#estimate_model"></a>
</h3>
<p>Given a data set, the parameters of a model in dRiftDM are estimated
via Differential Evolution and/or (bounded) Nelder-Mead. The cost
function is based on the log-likelihood.</p>
<p>The first argument requires the model. The second and third arguments
are the lower and upper boundaries of the search space. Per default,
Differential Evolution is used, as it is more robust. Yet, to ensure
that this vignette runs quickly, we will use Nelder-Mead.</p>
<p>A tricky choice regards the discretization settings. Per default,
dRiftDM discretizes the time and evidence space in steps of 0.001. This
is a conservative setting, ensuring high numerical accuracy. Yet, high
numerical accuracy comes at the expense of a high computational burden
that increases non-linearly. It is thus recommended to make the
discretization more coarse to reduce the time waiting in front of the
computer. As a rule of thumb, we currently recommend setting the
discretization steps between 0.001 and 0.005. Yet, the impact of the
respective settings depend on the model and its parameterization, so
users will have to make sure that their discretization settings lead to
reasonable model predictions.</p>
<p>Another choice is the maximum time space. It should be large enough
to easily cover the largest response time in the observed data set.</p>
<p>The following code adjusts the discretization settings, and
subsequently fits DMC to a single data set.</p>
<div class="sourceCode" id="cb18"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># get some data (here we use again the synthetic data that ships with dRiftDM)</span></span>
<span><span class="va">data</span> <span class="op">&lt;-</span> <span class="fu">dRiftDM</span><span class="fu">::</span><span class="va"><a href="../reference/dmc_synth_data.html">dmc_synth_data</a></span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">data</span><span class="op">)</span></span>
<span><span class="co">#&gt;      RT Error Cond</span></span>
<span><span class="co">#&gt; 1 0.349     0 comp</span></span>
<span><span class="co">#&gt; 2 0.444     0 comp</span></span>
<span><span class="co">#&gt; 3 0.441     0 comp</span></span>
<span><span class="co">#&gt; 4 0.572     0 comp</span></span>
<span><span class="co">#&gt; 5 0.438     0 comp</span></span>
<span><span class="co">#&gt; 6 0.535     0 comp</span></span>
<span></span>
<span><span class="co"># increase the discretization steps to 0.005 and set the maximum time space to 1.5 seconds</span></span>
<span><span class="fu"><a href="../reference/prms_solve.html">prms_solve</a></span><span class="op">(</span><span class="va">ddm</span><span class="op">)</span><span class="op">[</span><span class="st">"dt"</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="fl">0.005</span></span>
<span><span class="fu"><a href="../reference/prms_solve.html">prms_solve</a></span><span class="op">(</span><span class="va">ddm</span><span class="op">)</span><span class="op">[</span><span class="st">"dx"</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="fl">0.005</span></span>
<span><span class="fu"><a href="../reference/prms_solve.html">prms_solve</a></span><span class="op">(</span><span class="va">ddm</span><span class="op">)</span><span class="op">[</span><span class="st">"t_max"</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="fl">1.5</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/Extremes.html" class="external-link">max</a></span><span class="op">(</span><span class="va">data</span><span class="op">$</span><span class="va">RT</span><span class="op">)</span> <span class="co"># maximum time space easily covers the maximum RT</span></span>
<span><span class="co">#&gt; [1] 1.075</span></span>
<span></span>
<span><span class="co"># attach the data to the model</span></span>
<span><span class="fu"><a href="../reference/obs_data.html">obs_data</a></span><span class="op">(</span><span class="va">ddm</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="va">data</span></span>
<span></span>
<span><span class="co"># now call the estimation routine</span></span>
<span><span class="va">ddm</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/estimate_model.html">estimate_model</a></span><span class="op">(</span></span>
<span>  drift_dm_obj <span class="op">=</span> <span class="va">ddm</span>,</span>
<span>  lower <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span>muc <span class="op">=</span> <span class="fl">1</span>, b <span class="op">=</span> <span class="fl">0.3</span>, non_dec <span class="op">=</span> <span class="fl">0.1</span>, sd_non_dec <span class="op">=</span> <span class="fl">0.005</span>, tau <span class="op">=</span> <span class="fl">0.03</span>, A <span class="op">=</span> <span class="fl">0.01</span>, alpha <span class="op">=</span> <span class="fl">2</span><span class="op">)</span>,</span>
<span>  upper <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span>muc <span class="op">=</span> <span class="fl">6</span>, b <span class="op">=</span> <span class="fl">0.9</span>, non_dec <span class="op">=</span> <span class="fl">0.5</span>, sd_non_dec <span class="op">=</span> <span class="fl">0.05</span>, tau <span class="op">=</span> <span class="fl">0.12</span>, A <span class="op">=</span> <span class="fl">0.15</span>, alpha <span class="op">=</span> <span class="fl">9</span><span class="op">)</span>,</span>
<span>  use_de_optim <span class="op">=</span> <span class="cn">FALSE</span>, <span class="co"># overrule the default Differential Evolution setting</span></span>
<span>  use_nmkb <span class="op">=</span> <span class="cn">TRUE</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/stats/coef.html" class="external-link">coef</a></span><span class="op">(</span><span class="va">ddm</span><span class="op">)</span></span>
<span><span class="co">#&gt;        muc          b    non_dec sd_non_dec        tau          A      alpha </span></span>
<span><span class="co">#&gt; 3.42861562 0.49852737 0.39639307 0.04461241 0.05974238 0.13098245 5.12756820</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="checking-model-fit-1">Checking Model Fit (1)<a class="anchor" aria-label="anchor" href="#checking-model-fit-1"></a>
</h3>
<p>To qualitatively check if a model fits the data, we can use
<code><a href="../reference/calc_stats.html">calc_stats()</a></code> in combination with the <code><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot()</a></code>
method.</p>
<div class="sourceCode" id="cb19"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">check_fit</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/calc_stats.html">calc_stats</a></span><span class="op">(</span>object <span class="op">=</span> <span class="va">ddm</span>, type <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"cafs"</span>, <span class="st">"quantiles"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">check_fit</span>, col <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"green"</span>, <span class="st">"red"</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p><img src="dRiftDM_files/figure-html/unnamed-chunk-20-1.png" width="700"><img src="dRiftDM_files/figure-html/unnamed-chunk-20-2.png" width="700"></p>
</div>
<div class="section level3">
<h3 id="estimate_model_ids">
<code>estimate_model_ids()</code><a class="anchor" aria-label="anchor" href="#estimate_model_ids"></a>
</h3>
<p>Oftentimes, we don’t want to fit a model to a single individual, but
to multiple individuals. For this, you can use
<code><a href="../reference/estimate_model_ids.html">estimate_model_ids()</a></code>, which is a wrapper around
<code><a href="../reference/estimate_model.html">estimate_model()</a></code>. In the following code chunk we fit DMC to
the first two individuals of the flanker data set provided by <span class="citation">Ulrich et al. (2015)</span>.</p>
<div class="sourceCode" id="cb20"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">flanker_data</span> <span class="op">&lt;-</span> <span class="fu">dRiftDM</span><span class="fu">::</span><span class="va"><a href="../reference/ulrich_flanker_data.html">ulrich_flanker_data</a></span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">flanker_data</span><span class="op">)</span></span>
<span><span class="co">#&gt;   ID        RT Error   Cond</span></span>
<span><span class="co">#&gt; 1  1 0.6016572     0   comp</span></span>
<span><span class="co">#&gt; 2  1 0.4514293     0   comp</span></span>
<span><span class="co">#&gt; 3  1 0.4180971     0   comp</span></span>
<span><span class="co">#&gt; 4  1 0.4514365     0 incomp</span></span>
<span><span class="co">#&gt; 5  1 0.4013124     0   comp</span></span>
<span><span class="co">#&gt; 6  1 0.4347489     0 incomp</span></span>
<span><span class="va">flanker_data</span> <span class="op">&lt;-</span> <span class="va">flanker_data</span><span class="op">[</span><span class="va">flanker_data</span><span class="op">$</span><span class="va">ID</span> <span class="op"><a href="https://rdrr.io/r/base/match.html" class="external-link">%in%</a></span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">2</span><span class="op">)</span>, <span class="op">]</span></span>
<span><span class="fu"><a href="../reference/obs_data.html">obs_data</a></span><span class="op">(</span><span class="va">ddm</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="cn">NULL</span> <span class="co"># detach data (from the previous sections) to avoid a warning</span></span>
<span></span>
<span><span class="fu"><a href="../reference/estimate_model_ids.html">estimate_model_ids</a></span><span class="op">(</span></span>
<span>  drift_dm_obj <span class="op">=</span> <span class="va">ddm</span>,</span>
<span>  obs_data_ids <span class="op">=</span> <span class="va">flanker_data</span>,</span>
<span>  lower <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span>muc <span class="op">=</span> <span class="fl">1</span>, b <span class="op">=</span> <span class="fl">0.3</span>, non_dec <span class="op">=</span> <span class="fl">0.1</span>, sd_non_dec <span class="op">=</span> <span class="fl">0.005</span>, tau <span class="op">=</span> <span class="fl">0.03</span>, A <span class="op">=</span> <span class="fl">0.01</span>, alpha <span class="op">=</span> <span class="fl">2</span><span class="op">)</span>,</span>
<span>  upper <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span>muc <span class="op">=</span> <span class="fl">6</span>, b <span class="op">=</span> <span class="fl">0.9</span>, non_dec <span class="op">=</span> <span class="fl">0.5</span>, sd_non_dec <span class="op">=</span> <span class="fl">0.05</span>, tau <span class="op">=</span> <span class="fl">0.12</span>, A <span class="op">=</span> <span class="fl">0.15</span>, alpha <span class="op">=</span> <span class="fl">9</span><span class="op">)</span>,</span>
<span>  fit_procedure_name <span class="op">=</span> <span class="st">"flanker_test_run"</span>, <span class="co"># a label to identify the fits</span></span>
<span>  fit_path <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/tempfile.html" class="external-link">tempdir</a></span><span class="op">(</span><span class="op">)</span>, <span class="co"># to save fits in the working directory use getwd()</span></span>
<span>  use_de_optim <span class="op">=</span> <span class="cn">FALSE</span>, <span class="co"># overrule the default Differential Evolution setting</span></span>
<span>  use_nmkb <span class="op">=</span> <span class="cn">TRUE</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p>We can then load all saved fits using
<code><a href="../reference/load_fits_ids.html">load_fits_ids()</a></code>:</p>
<div class="sourceCode" id="cb21"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">all_fits</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/load_fits_ids.html">load_fits_ids</a></span><span class="op">(</span>path <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/tempfile.html" class="external-link">tempdir</a></span><span class="op">(</span><span class="op">)</span>, fit_procedure_name <span class="op">=</span> <span class="st">"flanker_test_run"</span><span class="op">)</span></span>
<span><span class="va">all_fits</span></span>
<span><span class="co">#&gt; Fit procedure name: flanker_test_run</span></span>
<span><span class="co">#&gt; Fitted model type: dmc_dm, drift_dm</span></span>
<span><span class="co">#&gt; Time of (last) call: 2025-February-26_18-16</span></span>
<span><span class="co">#&gt; N Individuals: 2</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="checking-model-fit-2">Checking Model Fit (2)<a class="anchor" aria-label="anchor" href="#checking-model-fit-2"></a>
</h3>
<p>As before, we can check the model fit using a combination of
<code><a href="../reference/calc_stats.html">calc_stats()</a></code> and <code><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot()</a></code>:</p>
<div class="sourceCode" id="cb22"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">check_fit</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/calc_stats.html">calc_stats</a></span><span class="op">(</span>object <span class="op">=</span> <span class="va">all_fits</span>, type <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"cafs"</span>, <span class="st">"quantiles"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">check_fit</span>, col <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"green"</span>, <span class="st">"red"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; Aggregating across ID</span></span></code></pre></div>
<p><img src="dRiftDM_files/figure-html/unnamed-chunk-23-1.png" width="700"></p>
<pre><code><span><span class="co">#&gt; Aggregating across ID</span></span></code></pre>
<p><img src="dRiftDM_files/figure-html/unnamed-chunk-23-2.png" width="700"></p>
</div>
</div>
<div class="section level2">
<h2 id="simulating-data">Simulating Data<a class="anchor" aria-label="anchor" href="#simulating-data"></a>
</h2>
<p>To simulate data based on a model, we can use the
<code><a href="../reference/simulate_data.html">simulate_data()</a></code> function. The first argument takes the
model object. The second argument a numeric vector, defining the number
of trials per condition:</p>
<div class="sourceCode" id="cb24"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">ddm</span> <span class="op">=</span> <span class="fu"><a href="../reference/ratcliff_dm.html">ratcliff_dm</a></span><span class="op">(</span><span class="op">)</span> <span class="co"># a model for demonstration purpose</span></span>
<span><span class="va">sim_1</span> <span class="op">=</span> <span class="fu"><a href="../reference/simulate_data.html">simulate_data</a></span><span class="op">(</span>object <span class="op">=</span> <span class="va">ddm</span>, n <span class="op">=</span> <span class="fl">200</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">sim_1</span><span class="op">)</span></span>
<span><span class="co">#&gt;      RT Error Cond</span></span>
<span><span class="co">#&gt; 1 0.684     0 null</span></span>
<span><span class="co">#&gt; 2 0.335     0 null</span></span>
<span><span class="co">#&gt; 3 0.388     0 null</span></span>
<span><span class="co">#&gt; 4 0.382     0 null</span></span>
<span><span class="co">#&gt; 5 0.563     0 null</span></span>
<span><span class="co">#&gt; 6 0.523     0 null</span></span></code></pre></div>
<p>This returns a single synthetic data set for a “participant”. Note
that the simulated RTs depend on the time discretization. For example,
if the time discretization is <code>dt</code> = .005, then the RTs can
only differ in steps of .005.</p>
<p>By specifying the argument <code>k</code>, we can simulate multiple
synthetic data sets simultaneously. In this case, however, we must also
specify lower and upper bounds to define the simulation space when
drawing random parameter combinations per data set (see the
<code>simulate_data</code> documentation for more details):</p>
<div class="sourceCode" id="cb25"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">sim_2</span> <span class="op">=</span> <span class="fu"><a href="../reference/simulate_data.html">simulate_data</a></span><span class="op">(</span>object <span class="op">=</span> <span class="va">ddm</span>, n <span class="op">=</span> <span class="fl">200</span>, k <span class="op">=</span> <span class="fl">2</span>,</span>
<span>              lower <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span>muc <span class="op">=</span> <span class="fl">1</span>, b <span class="op">=</span> <span class="fl">0.4</span>, non_dec <span class="op">=</span> <span class="fl">0.2</span><span class="op">)</span>, </span>
<span>              upper <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span>muc <span class="op">=</span> <span class="fl">6</span>, b <span class="op">=</span> <span class="fl">0.8</span>, non_dec <span class="op">=</span> <span class="fl">0.4</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p>This returns a list with the synthetic data sets and the
corresponding parameter values:</p>
<div class="sourceCode" id="cb26"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">sim_2</span><span class="op">$</span><span class="va">synth_data</span><span class="op">)</span></span>
<span><span class="co">#&gt;      RT Error Cond ID</span></span>
<span><span class="co">#&gt; 1 0.572     0 null  1</span></span>
<span><span class="co">#&gt; 2 0.409     0 null  1</span></span>
<span><span class="co">#&gt; 3 0.443     0 null  1</span></span>
<span><span class="co">#&gt; 4 0.507     0 null  1</span></span>
<span><span class="co">#&gt; 5 0.404     0 null  1</span></span>
<span><span class="co">#&gt; 6 0.466     0 null  1</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">sim_2</span><span class="op">$</span><span class="va">prms</span><span class="op">)</span></span>
<span><span class="co">#&gt;   ID      muc         b   non_dec</span></span>
<span><span class="co">#&gt; 1  1 5.609809 0.4194991 0.3820961</span></span>
<span><span class="co">#&gt; 2  2 3.415117 0.5610222 0.2108821</span></span></code></pre></div>
<p>The returned data sets are in a format that can be passed directly to
<code><a href="../reference/estimate_model_ids.html">estimate_model_ids()</a></code>, making parameter recovery exercises
very easy.</p>
<div class="section level3">
<h3 class="unnumbered" id="references">References<a class="anchor" aria-label="anchor" href="#references"></a>
</h3>
<div id="refs" class="references csl-bib-body hanging-indent" entry-spacing="0">
<div id="ref-Ratcliff1978" class="csl-entry">
Ratcliff, Roger. 1978. <span>“A Theory of Memory Retrieval.”</span>
<em>Psychological Review</em> 85 (2): 59–108. <a href="https://doi.org/10.1037/0033-295X.85.2.59" class="external-link">https://doi.org/10.1037/0033-295X.85.2.59</a>.
</div>
<div id="ref-Richteretal.2023" class="csl-entry">
Richter, Thomas, Rolf Ulrich, and Markus Janczyk. 2023. <span>“Diffusion
Models with Time-Dependent Parameters: An Analysis of Computational
Effort and Accuracy of Different Numerical Methods.”</span> <em>Journal
of Mathematical Psychology</em> 114: 102756. <a href="https://doi.org/10.1016/j.jmp.2023.102756" class="external-link">https://doi.org/10.1016/j.jmp.2023.102756</a>.
</div>
<div id="ref-Ulrichetal.2015" class="csl-entry">
Ulrich, Rolf, Hannes Schröter, Hartmut Leuthold, and Teresa Birngruber.
2015. <span>“Automatic and Controlled Stimulus Processing in Conflict
Tasks: Superimposed Diffusion Processes and Delta Functions.”</span>
<em>Cognitive Psychology</em> 78: 148–74. <a href="https://doi.org/10.1016/j.cogpsych.2015.02.005" class="external-link">https://doi.org/10.1016/j.cogpsych.2015.02.005</a>.
</div>
<div id="ref-Whiteetal.2011" class="csl-entry">
White, Corey N, Roger Ratcliff, and Jeffrey J Starns. 2011.
<span>“Diffusion Models of the Flanker Task: Discrete Versus Gradual
Attentional Selection.”</span> <em>Cognitive Psychology</em> 63 (4):
210–38. <a href="https://doi.org/10.1016/j.cogpsych.2011.08.001" class="external-link">https://doi.org/10.1016/j.cogpsych.2011.08.001</a>.
</div>
</div>
</div>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by Valentin Koob, Thomas Richter.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer>
</div>





  </body>
</html>
