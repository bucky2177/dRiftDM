<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Calculate Statistics — calc_stats • dRiftDM</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Calculate Statistics — calc_stats"><meta name="description" content="calc_stats provides an interface for calculating statistics/metrics on
model predictions and/or observed data. Supported statistics include
basic statistics on mean and standard deviation, Conditional Accuracy
Functions (CAFs), Quantiles, Delta Functions, and fit statistics. Results can
be aggregated across individuals."><meta property="og:description" content="calc_stats provides an interface for calculating statistics/metrics on
model predictions and/or observed data. Supported statistics include
basic statistics on mean and standard deviation, Conditional Accuracy
Functions (CAFs), Quantiles, Delta Functions, and fit statistics. Results can
be aggregated across individuals."><meta property="og:image" content="https://bucky2177.github.io/dRiftDM/logo.png"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">dRiftDM</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.3.1.9000</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../articles/dRiftDM.html">Get started</a></li>
<li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/convert_dmc_parameters.html">How to Convert DMC's parameters</a></li>
    <li><a class="dropdown-item" href="../articles/customize_ddms.html">How To Customize DDMs</a></li>
    <li><a class="dropdown-item" href="../articles/model_recovery.html">How To Perform a Model Recovery</a></li>
    <li><a class="dropdown-item" href="../articles/predictions_simple_ddm.html">Core DDM Parameters: Impact on RTs and Accuracy</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/bucky2177/dRiftDM/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Calculate Statistics</h1>
      <small class="dont-index">Source: <a href="https://github.com/bucky2177/dRiftDM/blob/v0.3.1/R/core_stats.R" class="external-link"><code>R/core_stats.R</code></a>, <a href="https://github.com/bucky2177/dRiftDM/blob/v0.3.1/R/formatting_stats_dm.R" class="external-link"><code>R/formatting_stats_dm.R</code></a></small>
      <div class="d-none name"><code>calc_stats.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p><code>calc_stats</code> provides an interface for calculating statistics/metrics on
model predictions and/or observed data. Supported statistics include
basic statistics on mean and standard deviation, Conditional Accuracy
Functions (CAFs), Quantiles, Delta Functions, and fit statistics. Results can
be aggregated across individuals.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">calc_stats</span><span class="op">(</span><span class="va">object</span>, <span class="va">type</span>, <span class="va">...</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S3 method for class 'data.frame'</span></span>
<span><span class="fu">calc_stats</span><span class="op">(</span></span>
<span>  <span class="va">object</span>,</span>
<span>  <span class="va">type</span>,</span>
<span>  <span class="va">...</span>,</span>
<span>  conds <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  resample <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  progress <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  level <span class="op">=</span> <span class="st">"individual"</span>,</span>
<span>  b_coding <span class="op">=</span> <span class="cn">NULL</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S3 method for class 'drift_dm'</span></span>
<span><span class="fu">calc_stats</span><span class="op">(</span><span class="va">object</span>, <span class="va">type</span>, <span class="va">...</span>, conds <span class="op">=</span> <span class="cn">NULL</span>, resample <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S3 method for class 'fits_ids_dm'</span></span>
<span><span class="fu">calc_stats</span><span class="op">(</span></span>
<span>  <span class="va">object</span>,</span>
<span>  <span class="va">type</span>,</span>
<span>  <span class="va">...</span>,</span>
<span>  conds <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  resample <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  progress <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  level <span class="op">=</span> <span class="st">"individual"</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S3 method for class 'fits_agg_dm'</span></span>
<span><span class="fu">calc_stats</span><span class="op">(</span></span>
<span>  <span class="va">object</span>,</span>
<span>  <span class="va">type</span>,</span>
<span>  <span class="va">...</span>,</span>
<span>  conds <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  resample <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  progress <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  level <span class="op">=</span> <span class="st">"group"</span>,</span>
<span>  messaging <span class="op">=</span> <span class="cn">TRUE</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S3 method for class 'stats_dm'</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span></span>
<span>  <span class="va">x</span>,</span>
<span>  <span class="va">...</span>,</span>
<span>  round_digits <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  print_rows <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  some <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  show_header <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  show_note <span class="op">=</span> <span class="cn">NULL</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S3 method for class 'stats_dm_list'</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">x</span>, <span class="va">...</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-object">object<a class="anchor" aria-label="anchor" href="#arg-object"></a></dt>
<dd><p>an object for which statistics are calculated. This can be a
<a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a> of observed data, a <a href="drift_dm.html">drift_dm</a> object, a
<code>fits_ids_dm</code> object, or a <code>fits_agg_dm</code> object (see
<code><a href="estimate_dm.html">estimate_dm()</a></code>).</p></dd>


<dt id="arg-type">type<a class="anchor" aria-label="anchor" href="#arg-type"></a></dt>
<dd><p>a character vector, specifying the statistics to calculate.
Supported values include <code>"basic_stats"</code>, <code>"cafs"</code>, <code>"quantiles"</code>,
<code>"delta_funs"</code>, <code>"densities"</code>, and <code>"fit_stats"</code>.</p></dd>


<dt id="arg--">...<a class="anchor" aria-label="anchor" href="#arg--"></a></dt>
<dd><p>additional arguments passed to the respective method and the
underlying calculation functions (see Details for mandatory arguments).</p></dd>


<dt id="arg-conds">conds<a class="anchor" aria-label="anchor" href="#arg-conds"></a></dt>
<dd><p>optional character vector specifying conditions to include.
Conditions must match those found in the <code>object</code>.</p></dd>


<dt id="arg-resample">resample<a class="anchor" aria-label="anchor" href="#arg-resample"></a></dt>
<dd><p>logical. If <code>TRUE</code>, then data is (re-)sampled to create
an uncertainty estimate for the requested summary statistic. See Details for
more information. Default is <code>FALSE</code>. Note that resampling does not work with
<code>type = "fit_stats"</code>.</p></dd>


<dt id="arg-progress">progress<a class="anchor" aria-label="anchor" href="#arg-progress"></a></dt>
<dd><p>integer, indicating if information about the progress
should be displayed. 0 -&gt; no information, 1 -&gt; a progress bar. Default is 1.</p></dd>


<dt id="arg-level">level<a class="anchor" aria-label="anchor" href="#arg-level"></a></dt>
<dd><p>a single character string, indicating at which "level" the
statistic should be calculated. Options are <code>"group"</code> or <code>"individual"</code>. If
<code>"individual"</code>, the returned <code>stats_dm</code> object contains an <code>"ID"</code> column.</p></dd>


<dt id="arg-b-coding">b_coding<a class="anchor" aria-label="anchor" href="#arg-b-coding"></a></dt>
<dd><p>a list for boundary coding (see <a href="b_coding.html">b_coding</a>). Only
relevant when <code>object</code> is a <a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a>. For other <code>object</code> types, the
<code>b_coding</code> of the <code>object</code> is used.</p></dd>


<dt id="arg-messaging">messaging<a class="anchor" aria-label="anchor" href="#arg-messaging"></a></dt>
<dd><p>logical, if <code>FALSE</code>, no message is provided.</p></dd>


<dt id="arg-x">x<a class="anchor" aria-label="anchor" href="#arg-x"></a></dt>
<dd><p>an object of type <code>stats_dm</code> or <code>stats_dm_list</code>, as returned by
the function <code>calc_stats()</code>.</p></dd>


<dt id="arg-round-digits">round_digits<a class="anchor" aria-label="anchor" href="#arg-round-digits"></a></dt>
<dd><p>integer, controls the number of digits shown.
Default is 3.</p></dd>


<dt id="arg-print-rows">print_rows<a class="anchor" aria-label="anchor" href="#arg-print-rows"></a></dt>
<dd><p>integer, controls the number of rows shown.</p></dd>


<dt id="arg-some">some<a class="anchor" aria-label="anchor" href="#arg-some"></a></dt>
<dd><p>logical. If <code>TRUE</code>, a subset of randomly sampled rows is shown.</p></dd>


<dt id="arg-show-header">show_header<a class="anchor" aria-label="anchor" href="#arg-show-header"></a></dt>
<dd><p>logical. If <code>TRUE</code>, a header specifying the type of
statistic will be displayed.</p></dd>


<dt id="arg-show-note">show_note<a class="anchor" aria-label="anchor" href="#arg-show-note"></a></dt>
<dd><p>logical. If <code>TRUE</code>, a footnote  is displayed indicating
that the underlying <a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a> can be accessed as usual.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>If <code>type</code> is a single character string, then a subclass of <a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a> is
returned, containing the respective statistic. Objects of type <code>sum_dist</code>
will have an additional attribute storing the boundary encoding (see also
<a href="b_coding.html">b_coding</a>). The reason for returning subclasses of <a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a> is
to provide custom <code><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot()</a></code> methods (e.g., <a href="plot.cafs.html">plot.cafs</a>). To get rid
of the subclass label and additional attributes (i.e., to get just the plain
underlying <a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a>, users can use <code><a href="unpack_obj.html">unpack_obj()</a></code>).</p>
<p>If <code>type</code> contains multiple character strings (i.e., is a character vector) a
subclass of <a href="https://rdrr.io/r/base/list.html" class="external-link">list</a> with the calculated statistics is returned. The list will
be of type <code>stats_dm_list</code> (to easily create multiple panels using the
respective <code><a href="plot.stats_dm_list.html">plot.stats_dm_list()</a></code> method).</p>
<p>The print methods <code>print.stats_dm()</code> and <code>print.stats_dm_list()</code> each
invisibly return the supplied object <code>x</code>.</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p><code>calc_stats</code> is a generic function to handle the calculation of different
statistics/metrics for the supported object types. Per default, it returns
the requested statistics/metrics.</p><div class="section">
<h3 id="list-of-supported-statistics">List of Supported Statistics<a class="anchor" aria-label="anchor" href="#list-of-supported-statistics"></a></h3>


<p><strong>Basic Statistics</strong></p>
<p>With "basic statistics", we refer to a summary of the mean and standard
deviation of response times, including a proportion of response choices.</p>
<p><strong>Conditional Accuracy Function (CAFs)</strong></p>
<p>CAFs are a way to quantify response accuracy against speed. To calculate
CAFs, RTs (whether correct or incorrect) are first binned and then the
percent correct responses per bin is calculated.</p>
<p>When calculating model-based CAFs, a joint CDF combining both the pdf
of correct and incorrect responses is calculated. Afterwards, this CDF
is separated into even-spaced segments and the contribution of
the pdf associated with a correct response relative to the joint CDF is
calculated.</p>
<p>The number of bins can be controlled by passing the argument <code>n_bins</code>.
The default is 5.</p>
<p><strong>Quantiles</strong></p>
<p>For observed response times, the function <a href="https://rdrr.io/r/stats/quantile.html" class="external-link">stats::quantile</a> is used with
default settings.</p>
<p>Which quantiles are calcuated can be controlled by providing the
probabilites, <code>probs</code>, with values in \([0, 1]\). Default is
<code>seq(0.1, 0.9, 0.1)</code>.</p>
<p><strong>Delta Functions</strong></p>
<p>Delta functions calculate the difference between quantiles
of two conditions against their mean:</p><ul><li><p>\(Delta_i = Q_{i,j} - Q_{i,k}\)</p></li>
<li><p>\(Avg_i = 0.5 \cdot Q_{i,j} + 0.5 \cdot Q_{i,k}\)</p></li>
</ul><p>With i indicating a quantile, and j and k two conditions.</p>
<p>To calculate delta functions, users have to specify:</p><ul><li><p><code>minuends</code>: character vector, specifying condition(s) j. Must be in
<code>conds(drift_dm_obj)</code>.</p></li>
<li><p><code>subtrahends</code>: character vector, specifying condition(s) k. Must be in
<code>conds(drift_dm_obj)</code></p></li>
<li><p><code>dvs</code>: character, indicating which quantile columns to use.
Default is "Quant_&lt;u_label&gt;". If multiple dvs are provided,
then minuends and subtrahends must have the same length,
and matching occurs pairwise. In this case, if only one
minuend/subtrahend is specified, minuend and subtrahend are recycled to
the necessary length.</p></li>
<li><p>specifying <code>probs</code> is possible (see Quantiles)</p></li>
</ul><p><strong>Densities</strong></p>
<p>With "densities", we refer to a summary of the distribution of observed
or predicted data. For observed data, histogram values and kernel density
estimates are provided. For predicted data, the model's predicted PDFs are
provided.</p>
<p>Optional arguments are:</p><ul><li><p><code>discr</code>: numeric, the band-width when calculating the histogram or the
kernel density estimates. Defaults to <code>0.015</code> seconds</p></li>
<li><p><code>t_max</code>: numeric, the maximum time window when calculating the distribution
summaries of observe data. Defaults to the longest RT (for observed data)
or the maximum of the time domain of a model (which is the preferred choice,
if possible). If necessary, <code>t_max</code> is slightly adjusted to match with
<code>discr</code>.</p></li>
<li><p><code>scale_mass</code>: logical, only relevant if observed data is available. If
<code>TRUE</code>, density masses are scaled proportional to the number of trials per
condition.</p></li>
</ul><p><strong>Fit Statistics</strong></p>
<p>Calculates the Log-Likelihood, Akaike and Bayesian Information Criteria,
and root-mean squared-error statistic.</p>
<p>Optional arguments are:</p><ul><li><p><code>k</code>: numeric, for penalizing the AIC statistic (see also <a href="https://rdrr.io/r/stats/AIC.html" class="external-link">stats::AIC</a>
and <a href="logLik.fits_ids_dm.html">AIC.fits_ids_dm</a>).</p></li>
<li><p><code>n_bins</code>, <code>probs</code>: numeric vectors, see the section on CAFs and Quantiles
above</p></li>
<li><p><code>weight_err</code>: numeric scalar, determines how CAFs and quantiles are
weighted. Default is <code>1.5</code>.</p></li>
</ul></div>

<div class="section">
<h3 id="resampling">Resampling<a class="anchor" aria-label="anchor" href="#resampling"></a></h3>


<p>When <code>resampling = TRUE</code>, an uncertainty interval is provided via simulation.
The default number of iterations is <code>R = 100</code>, which can be changed by
passing the optional argument <code>R</code>.</p>
<p>If resampling is requested, the returned <code>stats_dm</code> object contains the
column <code>"Estimate"</code>, coding the interval. The interval width is controlled
via the optional argument <code>interval_level</code>, a single numeric value between
0 and 1 (default: <code>0.95</code>). The interpretation of this interval depends on
the specific situation (see below).</p>
<p><strong>Resampling at the Individual Level</strong></p>
<p>If <code>object</code> is a <code>drift_dm</code> object (i.e., a single model created by
<code><a href="drift_dm.html">drift_dm()</a></code>), synthetic data are simulated under the model, and
for each synthetic data set the requested statistic is calculated. The
interval then reflects the range of these simulated statistics. To determine
the number of trials for each synthetic data set, dRiftDM either uses the
observed data attached to the model (if available) or the optional argument
<code>n_sim</code> (passed to <code><a href="simulate_data.html">simulate_data()</a></code>). Note that <code>n_sim</code> must be
provided if no observed data are available, and that <code>n_sim</code> always has
priority.</p>
<p>If <code>object</code> is a <code>drift_dm</code> object with attached observed data, resampling
is also performed for the observed data. In this case, trials are
bootstrapped, and for each bootstrap sample the requested statistic is
calculated.</p>
<p>If <code>object</code> is a <code>data.frame</code>, <code>fits_agg_dm</code>, or <code>fits_ids_dm</code> object,
resampling is performed for each individual if <code>level = "individual"</code>. For
both models and observed data, synthetic or bootstrapped data sets are
generated as described above.</p>
<p><strong>Resampling at the Group Level</strong></p>
<p>Group-level resampling is possible only if <code>object</code> is a <code>data.frame</code>
(with an <code>"ID"</code> column), <code>fits_agg_dm</code>, or <code>fits_ids_dm</code> object. To request
this, set <code>level = "group"</code>. Participants are then bootstrapped, and
for each bootstrapped sample the aggregated statistic is calculated.</p>
<p><strong>Interpretation of Intervals</strong></p>
<p>For <code>level = "group"</code>, intervals represent bootstrapped confidence intervals
For <code>level = "individual"</code>, intervals represent the variability in the
statistic when data for a single participant are resampled or simulated
under the model.</p>
<p><strong>Note</strong></p>
<p>For objects of type <code>fits_agg_dm</code>, which contain a mixture of group- and
individual-level information, the <code>level</code> argument only affects resampling
for the observed data. For the model itself, resampling is always performed
under the fitted model, in the same way as for a <code>drift_dm</code> object.</p>
</div>

    </div>
    <div class="section level2">
    <h2 id="note">Note<a class="anchor" aria-label="anchor" href="#note"></a></h2>
    <p>When a model's predicted density function integrates to a value of less than
<code><a href="defaults.html">drift_dm_skip_if_contr_low()</a></code>, means and quantiles return the
values <code>NA</code>. Users can alter this by explicitly passing the argument
<code>skip_if_contr_low</code> when calling <code>calc_stats()</code> (e.g.,
<code>calc_stats(..., skip_if_contr_low = -Inf)</code>)</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co"># Example 1: Calculate CAFs and Quantiles from a model ---------------------</span></span></span>
<span class="r-in"><span><span class="co"># get a model for demonstration purpose</span></span></span>
<span class="r-in"><span><span class="va">a_model</span> <span class="op">&lt;-</span> <span class="fu"><a href="ssp_dm.html">ssp_dm</a></span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="co"># and then calculate cafs and quantiles</span></span></span>
<span class="r-in"><span><span class="va">some_stats</span> <span class="op">&lt;-</span> <span class="fu">calc_stats</span><span class="op">(</span><span class="va">a_model</span>, type <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"cafs"</span>, <span class="st">"quantiles"</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">some_stats</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Element 1, contains cafs</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    Source   Cond Bin P_corr</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1    pred   comp   1  0.981</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2    pred   comp   2  0.981</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3    pred   comp   3  0.981</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4    pred   comp   4  0.981</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5    pred   comp   5  0.981</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6    pred incomp   1  0.675</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 7    pred incomp   2  0.925</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 8    pred incomp   3  0.960</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 9    pred incomp   4  0.973</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 10   pred incomp   5  0.979</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Element 2, contains quantiles</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    Source   Cond Prob Quant_corr Quant_err</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1    pred   comp  0.1      0.362     0.362</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2    pred   comp  0.2      0.383     0.383</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3    pred   comp  0.3      0.403     0.403</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4    pred   comp  0.4      0.422     0.422</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5    pred   comp  0.5      0.445     0.444</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6    pred   comp  0.6      0.471     0.470</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 7    pred   comp  0.7      0.503     0.503</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 8    pred   comp  0.8      0.549     0.549</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 9    pred   comp  0.9      0.626     0.626</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 10   pred incomp  0.1      0.407     0.344</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (extract the list's elements as usual, e.g., with $cafs)</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Example 2: Calculate a Delta Function from a data.frame ------------------</span></span></span>
<span class="r-in"><span><span class="co"># get a data set for demonstration purpose</span></span></span>
<span class="r-in"><span><span class="va">some_data</span> <span class="op">&lt;-</span> <span class="va">ulrich_simon_data</span></span></span>
<span class="r-in"><span><span class="fu"><a href="conds.html">conds</a></span><span class="op">(</span><span class="va">some_data</span><span class="op">)</span> <span class="co"># relevant for minuends and subtrahends</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "incomp" "comp"  </span>
<span class="r-in"><span><span class="va">some_stats</span> <span class="op">&lt;-</span> <span class="fu">calc_stats</span><span class="op">(</span></span></span>
<span class="r-in"><span>  <span class="va">a_model</span>,</span></span>
<span class="r-in"><span>  type <span class="op">=</span> <span class="st">"delta_funs"</span>,</span></span>
<span class="r-in"><span>  minuends <span class="op">=</span> <span class="st">"incomp"</span>,</span></span>
<span class="r-in"><span>  subtrahends <span class="op">=</span> <span class="st">"comp"</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">some_stats</span>, print_rows <span class="op">=</span> <span class="fl">5</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Type of Statistic: delta_funs</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   Source Prob Quant_corr_comp Quant_corr_incomp Delta_incomp_comp</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1   pred  0.1           0.362             0.407             0.045</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2   pred  0.2           0.383             0.437             0.053</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3   pred  0.3           0.403             0.462             0.060</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4   pred  0.4           0.422             0.487             0.065</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5   pred  0.5           0.445             0.514             0.069</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   Avg_incomp_comp</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1           0.385</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2           0.410</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3           0.432</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4           0.455</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5           0.479</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (access the data.frame's columns/rows as usual)</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Example 3: Calculate Quantiles from a fits_ids_dm object -----------------</span></span></span>
<span class="r-in"><span><span class="co"># get an auxiliary fits_ids_dm object</span></span></span>
<span class="r-in"><span><span class="va">all_fits</span> <span class="op">&lt;-</span> <span class="fu"><a href="get_example_fits.html">get_example_fits</a></span><span class="op">(</span><span class="st">"fits_ids_dm"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">some_stats</span> <span class="op">&lt;-</span> <span class="fu">calc_stats</span><span class="op">(</span><span class="va">all_fits</span>, type <span class="op">=</span> <span class="st">"quantiles"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">some_stats</span>, print_rows <span class="op">=</span> <span class="fl">5</span><span class="op">)</span> <span class="co"># note the ID column</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Type of Statistic: quantiles</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   ID Source Cond Prob Quant_corr Quant_err</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1  1    obs comp  0.1      0.335     0.361</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2  1    obs comp  0.2      0.368     0.388</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3  1    obs comp  0.3      0.385     0.415</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4  1    obs comp  0.4      0.385     0.441</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5  1    obs comp  0.5      0.401     0.468</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (access the data.frame's columns/rows as usual)</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># one can also request that the statistics are averaged across individuals</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>  <span class="fu">calc_stats</span><span class="op">(</span><span class="va">all_fits</span>, type <span class="op">=</span> <span class="st">"quantiles"</span>, average <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>The `average` argument of `calc_stats.data.frame()` is deprecated as of dRiftDM</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> 0.3.0.</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span style="color: #00BBBB;">ℹ</span> Please use the `level` argument instead.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Type of Statistic: quantiles</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    Source   Cond Prob Quant_corr Quant_err</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1     obs   comp  0.1      0.324     0.311</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2     obs   comp  0.2      0.346     0.330</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3     obs   comp  0.3      0.362     0.348</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4     obs   comp  0.4      0.368     0.365</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5     obs   comp  0.5      0.385     0.381</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6     obs   comp  0.6      0.396     0.383</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 7     obs   comp  0.7      0.407     0.386</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 8     obs   comp  0.8      0.424     0.391</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 9     obs   comp  0.9      0.470     0.396</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 10    obs incomp  0.1      0.351     0.311</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (access the data.frame's columns/rows as usual)</span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Valentin Koob, Thomas Richter, Markus Janczyk.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.2.0.</p>
</div>

    </footer></div>





  </body></html>

